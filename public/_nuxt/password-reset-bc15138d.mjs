var g=Object.defineProperty,k=Object.defineProperties;var w=Object.getOwnPropertyDescriptors;var h=Object.getOwnPropertySymbols;var b=Object.prototype.hasOwnProperty,S=Object.prototype.propertyIsEnumerable;var _=(i,s,o)=>s in i?g(i,s,{enumerable:!0,configurable:!0,writable:!0,value:o}):i[s]=o,v=(i,s)=>{for(var o in s||(s={}))b.call(s,o)&&_(i,o,s[o]);if(h)for(var o of h(s))S.call(s,o)&&_(i,o,s[o]);return i},f=(i,s)=>k(i,w(s));import{_ as y,m as M,o as c,c as d,b as e,t as n,p as x,q as a,v as p,j as u,s as E}from"./entry-15e717bf.mjs";const V={props:["selectedLang"],name:"aside-password-reset",data(){return{loading:!1,isSuccess:!1,isError:!1,errorMsg:"",successMsg:"",credentials:{code:null,email:null,password:null,password_confirm:null}}},computed:{lang(){const i=["passwordReset","passwordResetCode","email","password","passwordConfirm"];return i.reduce((s,o,m)=>(s[o]=this.$t("user."+i[m]),s),{})}},methods:{onSubmit(){this.isSuccess=!1,this.isError=!1,this.loading||(this.loading=!0,M.post("/auth/password-reset",f(v({},this.credentials),{lang:this.selectedLang})).then(({data:i})=>{setTimeout(()=>{this.loading=!1,i.status?(this.isSuccess=!0,this.successMsg=i.msg,setTimeout(()=>{this.$router.push("login")},2e3)):(this.isError=!0,this.errorMsg=this.lang.emailSendError)},1e3)}).catch(i=>{this.errorMsg=i.response.data.error,setTimeout(()=>{this.loading=!1,this.isError=!0},1e3)}))}}},R={class:"form-wrap"},C={class:"form-content"},T={class:"form-element input"},U=["placeholder"],B=e("span",{class:"icon pass"},null,-1),N={class:"form-element input"},D=["placeholder"],L=e("span",{class:"icon user"},null,-1),q={class:"form-element input"},j=["disabled","placeholder"],z=e("span",{class:"icon pass"},null,-1),A={class:"form-element input"},F=["disabled","placeholder"],G=e("span",{class:"icon pass"},null,-1),H={class:"form-element"},I=["disabled"],J={id:"submitTxt"},K={class:"loader"},O={key:0,class:"sk-fading-circle"},P=E('<div class="sk-circle1 sk-circle"></div><div class="sk-circle2 sk-circle"></div><div class="sk-circle3 sk-circle"></div><div class="sk-circle4 sk-circle"></div><div class="sk-circle5 sk-circle"></div><div class="sk-circle6 sk-circle"></div><div class="sk-circle7 sk-circle"></div><div class="sk-circle8 sk-circle"></div><div class="sk-circle9 sk-circle"></div><div class="sk-circle10 sk-circle"></div><div class="sk-circle11 sk-circle"></div><div class="sk-circle12 sk-circle"></div>',12),Q=[P],W={id:"msg"},X={key:0,class:"success"},Y={key:1,class:"error"};function Z(i,s,o,m,l,r){return c(),d("div",R,[e("div",C,[e("h2",null,n(r.lang.passwordReset),1),e("form",{onSubmit:s[4]||(s[4]=x((...t)=>r.onSubmit&&r.onSubmit(...t),["prevent"])),method:"post",class:"login-form"},[e("div",T,[a(e("input",{type:"text",id:"code","onUpdate:modelValue":s[0]||(s[0]=t=>l.credentials.code=t),name:"code",autocomplete:"off",placeholder:r.lang.passwordResetCode},null,8,U),[[p,l.credentials.code]]),B]),e("div",N,[a(e("input",{type:"text",id:"email","onUpdate:modelValue":s[1]||(s[1]=t=>l.credentials.email=t),name:"email",autocomplete:"off",placeholder:r.lang.email},null,8,D),[[p,l.credentials.email]]),L]),e("div",q,[a(e("input",{type:"password","onUpdate:modelValue":s[2]||(s[2]=t=>l.credentials.password=t),disabled:l.loading,placeholder:r.lang.password},null,8,j),[[p,l.credentials.password]]),z]),e("div",A,[a(e("input",{type:"password","onUpdate:modelValue":s[3]||(s[3]=t=>l.credentials.password_confirm=t),disabled:l.loading,placeholder:r.lang.passwordConfirm},null,8,F),[[p,l.credentials.password_confirm]]),G]),e("div",H,[e("button",{id:"submit",class:"button",disabled:l.loading,style:{width:"100%"}},[e("span",J,n(r.lang.passwordReset),1),e("span",K,[l.loading?(c(),d("div",O,Q)):u("",!0)])],8,I)])],32),e("div",W,[l.isSuccess?(c(),d("span",X,n(l.successMsg),1)):u("",!0),l.isError?(c(),d("span",Y,n(l.errorMsg),1)):u("",!0)])])])}var es=y(V,[["render",Z]]);export{es as default};
