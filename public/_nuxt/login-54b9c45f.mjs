import{_ as h,m as p,o as t,c as r,b as s,t as c,q as _,v as m,j as a,a as v,w as k,p as f,u as b,k as x,s as w}from"./entry-15e717bf.mjs";const S={props:["selectedLang"],name:"login",data(){return{loading:!1,isSuccess:!1,isError:!1,credentials:{login:null,password:null},lambda:window.lambda}},computed:{lang(){const o=["loginTitle","username","password","remember","login","forgot","loginSuccess","loginError"];return o.reduce((i,d,u)=>(i[d]=this.$t("user."+o[u]),i),{})}},methods:{onSubmit(){this.isSuccess=!1,this.isError=!1,this.loading||(this.loading=!0,p.post("/auth/login",this.credentials).then(({data:o})=>{setTimeout(()=>{this.loading=!1,o.status?(this.isSuccess=!0,setTimeout(()=>{window.location=o.path},600)):this.isError=!0},1e3)}).catch(o=>{setTimeout(()=>{this.loading=!1,this.isError=!0},1e3)}))}}},T={class:"form-content"},y={key:0,class:"logo with-text"},E=["src"],V={key:1,class:"logo"},N=["src"],B={class:"form-element input"},C=["disabled","placeholder"],D=s("span",{class:"icon user"},null,-1),M={class:"form-element input"},U=["disabled","placeholder"],q=s("span",{class:"icon pass"},null,-1),F={class:"form-element"},L=s("input",{type:"checkbox",class:"checkbox",id:"remember_me"},null,-1),j={for:"remember_me"},z={class:"form-element action"},A=["disabled"],G={id:"submitTxt"},H={class:"loader"},I={key:0,class:"sk-fading-circle"},J=w('<div class="sk-circle1 sk-circle"></div><div class="sk-circle2 sk-circle"></div><div class="sk-circle3 sk-circle"></div><div class="sk-circle4 sk-circle"></div><div class="sk-circle5 sk-circle"></div><div class="sk-circle6 sk-circle"></div><div class="sk-circle7 sk-circle"></div><div class="sk-circle8 sk-circle"></div><div class="sk-circle9 sk-circle"></div><div class="sk-circle10 sk-circle"></div><div class="sk-circle11 sk-circle"></div><div class="sk-circle12 sk-circle"></div>',12),K=[J],O={id:"msg"},P={key:0,class:"success"},Q={key:1,class:"error"};function R(o,i,d,u,e,l){const g=b;return t(),r("div",T,[e.lambda.logoText!=""?(t(),r("div",y,[s("img",{src:e.lambda.logo,alt:""},null,8,E),s("span",null,c(e.lambda.logoText),1)])):(t(),r("div",V,[s("img",{src:e.lambda.logo,alt:""},null,8,N)])),s("h2",null,c(l.lang.loginTitle),1),s("form",{onSubmit:i[2]||(i[2]=f((...n)=>l.onSubmit&&l.onSubmit(...n),["prevent"])),id:"authForm",method:"post",class:"login-form"},[s("div",B,[_(s("input",{type:"text","onUpdate:modelValue":i[0]||(i[0]=n=>e.credentials.login=n),disabled:e.loading,placeholder:l.lang.username},null,8,C),[[m,e.credentials.login]]),D]),s("div",M,[_(s("input",{type:"password","onUpdate:modelValue":i[1]||(i[1]=n=>e.credentials.password=n),disabled:e.loading,placeholder:l.lang.password},null,8,U),[[m,e.credentials.password]]),q]),s("div",F,[L,s("label",j,c(l.lang.remember),1)]),s("div",z,[s("button",{id:"submit",class:"button",disabled:e.loading},[s("span",G,c(l.lang.login),1),s("span",H,[e.loading?(t(),r("div",I,K)):a("",!0)])],8,A),s("p",null,[v(g,{class:"forgot",to:"/auth/forgot"},{default:k(()=>[x(c(l.lang.forgot),1)]),_:1})])])],32),s("div",O,[e.isSuccess?(t(),r("span",P,c(l.lang.loginSuccess),1)):a("",!0),e.isError?(t(),r("span",Q,c(l.lang.loginError),1)):a("",!0)])])}var X=h(S,[["render",R]]);export{X as default};
