var g=Object.defineProperty,f=Object.defineProperties;var k=Object.getOwnPropertyDescriptors;var m=Object.getOwnPropertySymbols;var p=Object.prototype.hasOwnProperty,b=Object.prototype.propertyIsEnumerable;var h=(e,s,i)=>s in e?g(e,s,{enumerable:!0,configurable:!0,writable:!0,value:i}):e[s]=i,_=(e,s)=>{for(var i in s||(s={}))p.call(s,i)&&h(e,i,s[i]);if(m)for(var i of m(s))b.call(s,i)&&h(e,i,s[i]);return e},v=(e,s)=>f(e,k(s));import{_ as S,m as M,o,c as a,b as t,t as l,p as x,q as E,v as w,j as n,s as y}from"./entry-15e717bf.mjs";const T={props:["selectedLang"],name:"aside-forgot",data(){return{loading:!1,isSuccess:!1,isError:!1,errorMsg:"",successMsg:"",credentials:{email:null}}},computed:{lang(){const e=["forgot","email","forgotDescription","sendPasswordResetCode","emailSendError"];return e.reduce((s,i,u)=>(s[i]=this.$t("user."+e[u]),s),{})}},methods:{onSubmit(){this.isSuccess=!1,this.isError=!1,this.loading||(this.loading=!0,M.post("/auth/send-forgot-mail",v(_({},this.credentials),{lang:this.selectedLang})).then(({data:e})=>{setTimeout(()=>{this.loading=!1,e.status?(this.isSuccess=!0,this.successMsg=e.msg,setTimeout(()=>{this.$router.push("/auth/password-reset")},2100)):(this.isError=!0,this.errorMsg=this.lang.emailSendError)},1e3)}).catch(e=>{this.errorMsg=e.response.data.error,setTimeout(()=>{this.loading=!1,this.isError=!0},1e3)}))}}},D={class:"form-wrap"},V={class:"form-content"},B={class:"form-element input"},C=["placeholder"],N=t("span",{class:"icon user"},null,-1),L={class:"form-element"},P={style:{"font-size":"12px"}},R={class:"form-element"},q=["disabled"],z={id:"submitTxt"},U={class:"loader"},j={key:0,class:"sk-fading-circle"},A=y('<div class="sk-circle1 sk-circle"></div><div class="sk-circle2 sk-circle"></div><div class="sk-circle3 sk-circle"></div><div class="sk-circle4 sk-circle"></div><div class="sk-circle5 sk-circle"></div><div class="sk-circle6 sk-circle"></div><div class="sk-circle7 sk-circle"></div><div class="sk-circle8 sk-circle"></div><div class="sk-circle9 sk-circle"></div><div class="sk-circle10 sk-circle"></div><div class="sk-circle11 sk-circle"></div><div class="sk-circle12 sk-circle"></div>',12),F=[A],G={id:"msg"},H={key:0,class:"success"},I={key:1,class:"error"};function J(e,s,i,u,c,r){return o(),a("div",D,[t("div",V,[t("h2",null,l(r.lang.forgot),1),t("form",{onSubmit:s[1]||(s[1]=x((...d)=>r.onSubmit&&r.onSubmit(...d),["prevent"])),method:"post",class:"login-form"},[t("div",B,[E(t("input",{type:"text",id:"email","onUpdate:modelValue":s[0]||(s[0]=d=>c.credentials.email=d),name:"email",autocomplete:"off",placeholder:r.lang.email},null,8,C),[[w,c.credentials.email]]),N]),t("div",L,[t("label",P,l(r.lang.forgotDescription),1)]),t("div",R,[t("button",{id:"submit",class:"button",disabled:c.loading,style:{width:"100%"}},[t("span",z,l(r.lang.sendPasswordResetCode),1),t("span",U,[c.loading?(o(),a("div",j,F)):n("",!0)])],8,q)])],32),t("div",G,[c.isSuccess?(o(),a("span",H,l(c.successMsg),1)):n("",!0),c.isError?(o(),a("span",I,l(c.errorMsg),1)):n("",!0)])])])}var Q=S(T,[["render",J]]);export{Q as default};
