import{a as r,s as a,L as l,U as d,C as u,D as c,x as p,P as _,M as g,K as h,E as f,v,d as b,o as S,c as L,G as E,_ as m}from"./entry.edf531c9.js";import{_ as w}from"./dynamic-import-helper.1977255f.js";const C={props:["selectedLang"],name:"login",data(){return{lambda:a.get(l)}},methods:{onSuccess(e){e.status&&(this.isSuccess=!0,a.set(d,{...e.data,jwt:void 0}),window.init={user:e.data,microserviceSettings:[]},a.set(u,e.token,7*24*60*60*1e3),c(e.token),e.data.role===1?window.location.replace(e.path):p.get("/get-permissions").then(s=>{if(s.data.status){a.set(_,s.data.permission.permissions),a.set(g,s.data.permission.menu),a.set(h,s.data.permission.kruds);let n=f(s.data.permission.menu,null,s.data.permission.kruds);a.set(v,n);let o=e.path.replaceAll("#","");if(o.includes("/p/")){let t=o.split("/");t[t.length-1],this.$router.replace("/admin")}else this.$router.replace("/admin")}}))},renderTheme(){return b(()=>w(Object.assign({"../../../node_modules/@lambda-platform/lambda-vue/src/modules/agent/views/theme/aside/auth/login.vue":()=>m(()=>import("./login.6ae29292.js"),["login.6ae29292.js","entry.edf531c9.js","entry.51e9d2d4.css"],import.meta.url),"../../../node_modules/@lambda-platform/lambda-vue/src/modules/agent/views/theme/default/auth/login.vue":()=>m(()=>import("./login.6dc7eef5.js"),["login.6dc7eef5.js","entry.edf531c9.js","entry.51e9d2d4.css"],import.meta.url)}),`../../../node_modules/@lambda-platform/lambda-vue/src/modules/agent/views/theme/${this.lambda.theme}/auth/login.vue`))}}};function I(e,s,n,o,t,i){return S(),L(E(i.renderTheme()),{onSuccess:i.onSuccess,selectedLang:n.selectedLang,lambda:t.lambda},null,40,["onSuccess","selectedLang","lambda"])}const D=r(C,[["render",I]]);export{D as default};
