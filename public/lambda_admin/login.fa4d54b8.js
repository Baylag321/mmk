import{a as l,s as t,L as m,U as u,A as c,x as d,l as p,P as _,M as h,K as g,y as f,j as v,d as L,o as S,c as E,z as b,B as A,_ as r}from"./entry.fff4ff4b.js";const I={props:["selectedLang"],name:"login",data(){return{lambda:t.get(m)}},methods:{onSuccess(e){e.status&&(this.isSuccess=!0,t.set(u,{...e.data,jwt:void 0}),t.set(c,e.token,7*24*60*60*1e3),d(e.token),e.data.role===1?window.location.replace(e.path):p.get("/get-permissions").then(s=>{if(s.data.status){t.set(_,s.data.permission.permissions),t.set(h,s.data.permission.menu),t.set(g,s.data.permission.kruds);let o=f(s.data.permission.menu,null,s.data.permission.kruds);t.set(v,o);let a=e.path.replaceAll("#","");if(a.includes("/p/")){let n=a.split("/"),i=n[n.length-1];this.$router.replace("/admin/p/"+i)}else this.$router.replace(a)}}))},renderTheme(){return L(()=>A(Object.assign({"../../../vue3/src/modules/agent/views/theme/aside/auth/login.vue":()=>r(()=>import("./login.c949d99a.js"),["login.c949d99a.js","entry.fff4ff4b.js","entry.57d7b3fe.css"],import.meta.url),"../../../vue3/src/modules/agent/views/theme/default/auth/login.vue":()=>r(()=>import("./login.62028ef4.js"),["login.62028ef4.js","entry.fff4ff4b.js","entry.57d7b3fe.css"],import.meta.url)}),`../../../vue3/src/modules/agent/views/theme/${this.lambda.theme}/auth/login.vue`))}}};function k(e,s,o,a,n,i){return S(),E(b(i.renderTheme()),{onSuccess:i.onSuccess,selectedLang:o.selectedLang,lambda:n.lambda},null,40,["onSuccess","selectedLang","lambda"])}const O=l(I,[["render",k]]);export{O as default};
