import{a as S}from"./common.ee65b9fa.js";import{Z as a,_ as c,a0 as e,a2 as n,y as m,a7 as u,c as _,$ as g,H as h,E as v,a3 as p,U as f}from"./vue.8df9dc4e.js";import{a as y}from"./entry.2f722340.js";import"./ant.37833f30.js";import"./moment.8b5e7d95.js";import"./ag.6f4f687c.js";import"./lodash.9ef015a0.js";import"./numeral.d58f1efd.js";import"./cryptoJs.bc7a374e.js";const E={props:["lambda","onSuccess","selectedLang"],name:"aside-login",data(){return{loading:!1,isSuccess:!1,isError:!1,credentials:{login:null,password:null}}},computed:{lang(){const l=["loginTitle","username","password","remember","login","forgot","loginSuccess","loginError"];return l.reduce((o,i,d)=>(o[i]=this.$t("user."+l[d]),o),{})}},methods:{onSubmit(){this.isSuccess=!1,this.isError=!1,this.loading||(this.loading=!0,S.post("/auth/login",this.credentials).then(({data:l})=>{l.status?this.onSuccess(l):(this.isError=!0,this.loading=!1)}).catch(l=>{this.loading=!1,this.isError=!0}))}}},k={class:"form-content"},w=e("h1",null,"NEW DESING",-1),N={key:0,class:"logo with-text"},T=["src"],V={key:1,class:"logo"},B=["src"],C={class:"form-element input"},D=["disabled","placeholder"],U=e("span",{class:"icon user"},null,-1),M={class:"form-element input"},F=["disabled","placeholder"],G=e("span",{class:"icon pass"},null,-1),H={class:"form-element"},I=e("input",{type:"checkbox",class:"checkbox",id:"remember_me"},null,-1),L={for:"remember_me"},W={class:"form-element action"},Z={id:"msg"},q={key:0,class:"success"},z={key:1,class:"error"};function A(l,o,i,d,t,s){const b=f("a-button"),x=f("router-link");return a(),c("div",k,[w,i.lambda.logoText!=""?(a(),c("div",N,[e("img",{src:i.lambda.logo,alt:""},null,8,T),e("span",null,n(i.lambda.logoText),1)])):(a(),c("div",V,[e("img",{src:i.lambda.logo,alt:""},null,8,B)])),e("h2",null,n(s.lang.loginTitle),1),e("form",{id:"authForm",method:"post",class:"login-form",onSubmit:o[2]||(o[2]=v((...r)=>s.onSubmit&&s.onSubmit(...r),["prevent"]))},[e("div",C,[m(e("input",{type:"text","onUpdate:modelValue":o[0]||(o[0]=r=>t.credentials.login=r),disabled:t.loading,placeholder:s.lang.username},null,8,D),[[u,t.credentials.login]]),U]),e("div",M,[m(e("input",{type:"password","onUpdate:modelValue":o[1]||(o[1]=r=>t.credentials.password=r),disabled:t.loading,placeholder:s.lang.password},null,8,F),[[u,t.credentials.password]]),G]),e("div",H,[I,e("label",L,n(s.lang.remember),1)]),e("div",W,[_(b,{type:"primary",loading:t.loading,"html-type":"submit"},{default:g(()=>[h(n(s.lang.login),1)]),_:1},8,["loading"]),e("p",null,[_(x,{class:"forgot",to:"/auth/forgot"},{default:g(()=>[h(n(s.lang.forgot),1)]),_:1})])])],32),e("div",Z,[t.isSuccess?(a(),c("span",q,n(s.lang.loginSuccess),1)):p("",!0),t.isError?(a(),c("span",z,n(s.lang.loginError),1)):p("",!0)])])}const $=y(E,[["render",A]]);export{$ as default};
