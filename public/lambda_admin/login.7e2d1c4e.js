import{a as r,s,L as l,U as d,A as u,f as c,P as p,M as _,K as g,g as h,e as f,h as b,_ as m}from"./entry.0dfbcad4.js";import{a as v}from"./common.db75f8be.js";import{a3 as S,Y as L,a8 as E,a9 as w}from"./vue.a1a1d817.js";import"./cryptoJs.37acf5e1.js";import"./ant.3cb96f1d.js";import"./numeral.f32c122b.js";import"./moment.8b5e7d95.js";const A={props:["selectedLang"],name:"login",data(){return{lambda:s.get(l)}},methods:{onSuccess(e){e.status&&(this.isSuccess=!0,s.set(d,{...e.data,jwt:void 0}),window.init={user:e.data,microserviceSettings:[]},s.set(u,e.token,7*24*60*60*1e3),c(e.token),e.data.role===1?window.location.replace(e.path):v.get("/get-permissions").then(a=>{if(a.data.status){s.set(p,a.data.permission.permissions),s.set(_,a.data.permission.menu),s.set(g,a.data.permission.kruds);let o=h(a.data.permission.menu,null,a.data.permission.kruds);s.set(f,o);let n=e.path.replaceAll("#","");if(n.includes("/p/")){let t=n.split("/");t[t.length-1],this.$router.replace("/admin")}else this.$router.replace("/admin")}}))},renderTheme(){return S(()=>b(Object.assign({"../../../node_modules/@lambda-platform/lambda-vue/src/modules/agent/views/theme/aside/auth/login.vue":()=>m(()=>import("./login.6cf8ef20.js"),["login.6cf8ef20.js","common.db75f8be.js","ant.3cb96f1d.js","vue.a1a1d817.js","entry.0dfbcad4.js","entry.32329fc7.css","cryptoJs.37acf5e1.js","numeral.f32c122b.js","moment.8b5e7d95.js"],import.meta.url),"../../../node_modules/@lambda-platform/lambda-vue/src/modules/agent/views/theme/default/auth/login.vue":()=>m(()=>import("./login.11e97874.js"),["login.11e97874.js","common.db75f8be.js","ant.3cb96f1d.js","vue.a1a1d817.js","entry.0dfbcad4.js","entry.32329fc7.css","cryptoJs.37acf5e1.js","numeral.f32c122b.js","moment.8b5e7d95.js"],import.meta.url)}),`../../../node_modules/@lambda-platform/lambda-vue/src/modules/agent/views/theme/${this.lambda.theme}/auth/login.vue`))}}};function I(e,a,o,n,t,i){return L(),E(w(i.renderTheme()),{onSuccess:i.onSuccess,selectedLang:o.selectedLang,lambda:t.lambda},null,40,["onSuccess","selectedLang","lambda"])}const M=r(A,[["render",I]]);export{M as default};
