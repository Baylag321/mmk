import{m as S,c as g,K as v}from"./mixin.663c5b93.js";import{a as _}from"./entry.0dfbcad4.js";import{M as E}from"./Modal.e028f6af.js";import{S as o,Y as t,Z as C,c as s,a4 as r,_ as n,aa as w,a8 as U,a7 as k}from"./vue.a1a1d817.js";import"./cryptoJs.37acf5e1.js";import"./ant.3cb96f1d.js";import"./common.db75f8be.js";import"./numeral.f32c122b.js";import"./moment.8b5e7d95.js";const P={inheritAttrs:!1,name:"Canvas",mixins:[S],data(){return{form_width:800,openSlidePanel:!1,exportLoading:!1}},components:{common:g,Krudtools:v,"a-modal":E},methods:{hideSide(){this.openSlidePanel=!1,this.editMode=!1},openSide(){this.openSlidePanel=!0},templateEdit(){this.openSide()},templateOnSuccess(){this.hideSide()}},mounted(){}},R={class:"card drawer-wrappper"},M={class:"offcanvas-template"},b={class:"crud-page"},y={class:"crud-page-body"},I={id:"drawer-container"};function V(e,d,A,B,i,a){const l=o("common"),p=o("Krudtools"),c=o("portal"),m=o("datagrid"),u=o("dataform"),f=o("a-modal");return t(),C("div",R,[s(l,{parent:e.parent,title:e.title,addAction:a.openSide,permissions:e.permissions},null,8,["parent","title","addAction","permissions"]),s(c,{to:"header-right"},{default:r(()=>[s(p,{search:e.search,refresh:e.refresh,exportExcel:e.exportExcel,exportLoading:i.exportLoading,print:e.print,save:e.save,isPrint:e.isPrint,isExcel:e.isExcel,isExcelUpload:e.isExcelUpload,excelUploadCustomUrl:e.excelUploadCustomUrl,excelUploadMethod:e.excelUploadMethod,isRefresh:e.isRefresh,isSave:e.isSave,isSearch:!1},null,8,["search","refresh","exportExcel","exportLoading","print","save","isPrint","isExcel","isExcelUpload","excelUploadCustomUrl","excelUploadMethod","isRefresh","isSave"])]),_:1}),n("section",M,[n("div",b,[n("div",y,[n("div",I,[n("div",{class:w(i.openSlidePanel?"dg-flex open-drawer":"dg-flex")},[e.permissions&&e.permissions.r?(t(),U(m,{key:0,ref:"grid",url:e.url,schemaID:e.grid,paginate:50,fnClone:e.clone,fnEdit:e.edit,fnQuickEdit:e.quickEdit,fnView:e.view,actions:e.$props.actions,dblClick:e.$props.dbClickAction,onRowSelect:e.$props.onRowSelect,permissions:e.permissions,page_id:e.page_id,custom_condition:e.$props.custom_condition?e.$props.custom_condition:null,user_condition:e.user_condition?e.user_condition.gridCondition:null},null,8,["url","schemaID","fnClone","fnEdit","fnQuickEdit","fnView","actions","dblClick","onRowSelect","permissions","page_id","custom_condition","user_condition"])):k("",!0)],2)])])])]),s(f,{visible:i.openSlidePanel,"onUpdate:visible":d[0]||(d[0]=h=>i.openSlidePanel=h),class:"create",maskClosable:!1,title:e.title,forceRender:!0,width:this.form_width,placement:"right"},{footer:r(()=>[]),default:r(()=>[s(u,{ref:"form",hideTitle:!0,schemaID:e.form,title:e.title,url:e.url,editMode:e.editMode,onSuccess:e.onSuccess,onReady:e.onReady,do_render:i.openSlidePanel,permissions:e.permissions,page_id:e.page_id,user_condition:e.user_condition?e.user_condition.formCondition:null,onError:e.onError,close:a.hideSide},null,8,["schemaID","title","url","editMode","onSuccess","onReady","do_render","permissions","page_id","user_condition","onError","close"])]),_:1},8,["visible","title","width"])])}const T=_(P,[["render",V],["__scopeId","data-v-15777d48"]]);export{T as default};
