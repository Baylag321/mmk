import{a as x,l as v,r as u,o as a,e as r,h as e,t as n,p as _,v as m,f as g,w as h,i as f,k as p}from"./entry.feddb565.js";const w={props:["lambda","onSuccess","selectedLang"],name:"aside-login",data(){return{loading:!1,isSuccess:!1,isError:!1,credentials:{login:null,password:null}}},computed:{lang(){const l=["loginTitle","username","password","remember","login","forgot","loginSuccess","loginError"];return l.reduce((t,i,d)=>(t[i]=this.$t("user."+l[d]),t),{})}},methods:{onSubmit(){this.isSuccess=!1,this.isError=!1,this.loading||(this.loading=!0,v.post("/auth/login",this.credentials).then(({data:l})=>{l.status?this.onSuccess(l):(this.isError=!0,this.loading=!1)}).catch(l=>{this.loading=!1,this.isError=!0}))}}},y={class:"form-content"},S={key:0,class:"logo with-text"},E=["src"],T={key:1,class:"logo"},V=["src"],C={id:"authForm",method:"post",class:"login-form"},N={class:"form-element input"},B=["disabled","placeholder"],D=e("span",{class:"icon user"},null,-1),U={class:"form-element input"},F=["disabled","placeholder"],L=e("span",{class:"icon pass"},null,-1),M={class:"form-element"},q=e("input",{type:"checkbox",class:"checkbox",id:"remember_me"},null,-1),z={for:"remember_me"},A={class:"form-element action"},G={id:"msg"},H={key:0,class:"success"},I={key:1,class:"error"};function J(l,t,i,d,s,o){const b=u("a-button"),k=u("router-link");return a(),r("div",y,[i.lambda.logoText!=""?(a(),r("div",S,[e("img",{src:i.lambda.logo,alt:""},null,8,E),e("span",null,n(i.lambda.logoText),1)])):(a(),r("div",T,[e("img",{src:i.lambda.logo,alt:""},null,8,V)])),e("h2",null,n(o.lang.loginTitle),1),e("form",C,[e("div",N,[_(e("input",{type:"text","onUpdate:modelValue":t[0]||(t[0]=c=>s.credentials.login=c),disabled:s.loading,placeholder:o.lang.username},null,8,B),[[m,s.credentials.login]]),D]),e("div",U,[_(e("input",{type:"password","onUpdate:modelValue":t[1]||(t[1]=c=>s.credentials.password=c),disabled:s.loading,placeholder:o.lang.password},null,8,F),[[m,s.credentials.password]]),L]),e("div",M,[q,e("label",z,n(o.lang.remember),1)]),e("div",A,[g(b,{type:"primary",loading:s.loading,onClick:o.onSubmit},{default:h(()=>[f(n(o.lang.login),1)]),_:1},8,["loading","onClick"]),e("p",null,[g(k,{class:"forgot",to:"/auth/forgot"},{default:h(()=>[f(n(o.lang.forgot),1)]),_:1})])])]),e("div",G,[s.isSuccess?(a(),r("span",H,n(o.lang.loginSuccess),1)):p("",!0),s.isError?(a(),r("span",I,n(o.lang.loginError),1)):p("",!0)])])}const O=x(w,[["render",J]]);export{O as default};
