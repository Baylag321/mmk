import{a as m,s as a,L as r,U as d,A as u,x as c,l as p,P as _,M as h,K as g,y as f,j as b,d as v,o as L,c as S,z as E,_ as i}from"./entry.feddb565.js";import{_ as A}from"./dynamic-import-helper.70ecd33c.js";const I={props:["selectedLang"],name:"login",data(){return{lambda:a.get(r)}},methods:{onSuccess(e){e.status&&(this.isSuccess=!0,a.set(d,{...e.data,jwt:void 0}),a.set(u,e.token,7*24*60*60*1e3),c(e.token),e.data.role===1?window.location.replace(e.path):p.get("/get-permissions").then(s=>{if(s.data.status){a.set(_,s.data.permission.permissions),a.set(h,s.data.permission.menu),a.set(g,s.data.permission.kruds);let l=f(s.data.permission.menu,null,s.data.permission.kruds);a.set(b,l);let t=e.path.replaceAll("#","");if(t.includes("/p/")){let n=t.split("/"),o=n[n.length-1];this.$router.replace("/admin/p/"+o)}else this.$router.replace(t)}}))},renderTheme(){return v(()=>A(Object.assign({"../../../node_modules/@lambda-platform/lambda-vue/src/modules/agent/views/theme/aside/auth/login.vue":()=>i(()=>import("./login.5919f53f.js"),["login.5919f53f.js","entry.feddb565.js","entry.b4588b5d.css"],import.meta.url),"../../../node_modules/@lambda-platform/lambda-vue/src/modules/agent/views/theme/default/auth/login.vue":()=>i(()=>import("./login.3a6a2008.js"),["login.3a6a2008.js","entry.feddb565.js","entry.b4588b5d.css"],import.meta.url)}),`../../../node_modules/@lambda-platform/lambda-vue/src/modules/agent/views/theme/${this.lambda.theme}/auth/login.vue`))}}};function k(e,s,l,t,n,o){return L(),S(E(o.renderTheme()),{onSuccess:o.onSuccess,selectedLang:l.selectedLang,lambda:n.lambda},null,40,["onSuccess","selectedLang","lambda"])}const T=m(I,[["render",k]]);export{T as default};
