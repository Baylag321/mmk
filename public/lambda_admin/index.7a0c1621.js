import{H as I,T as R}from"./components.fb5ca51b.js";import{S,g as C,c as N,a as T,s as h,K as $,P as B,L as D,M as A,i as L,b as P,d as V}from"./entry.2f722340.js";import{S as E}from"./SettingOutlined.2bd03d9e.js";import{d as F,Z as s,_ as n,a6 as k,a3 as i,a4 as l,a0 as m,a2 as a,F as g,a1 as f,$ as b,U as v,H as y,c as w}from"./vue.8df9dc4e.js";import"./composables.5ead7d52.js";import"./common.ee65b9fa.js";import"./ant.37833f30.js";import"./moment.8b5e7d95.js";import"./ag.6f4f687c.js";import"./lodash.9ef015a0.js";import"./numeral.d58f1efd.js";import"./cryptoJs.bc7a374e.js";const O=F({name:"HomeMenuRender",props:["item","cruds","permissions","title","children"],components:{SvgIcon:S,SettingOutlined:E},data(){return{}},methods:{getModuleItem(e){if(e.children)return e},findActivehild(e){let o=0;for(;!this.can(e.children[o]);)o++;return{...e.children[o],svg:e.svg,icon:e.icon}},getPath(e){return C(e)},can(e){return this.permissions[e.id]?!!this.permissions[e.id].show:!1},getTitleHome(e,o){return this.title&&!o?this.title:N(e,this.cruds)},hasItems(e){return e&&e.children!==void 0?e.children.length>0:!1}}});const U=["href"],K={key:2,class:"module-menus"},z={key:0},G={key:2,class:"module-menus"},Z={key:0},j={key:2,class:"module-menus"},q={key:0};function J(e,o,H,t,u,_){const c=v("inline-svg"),p=v("router-link"),M=v("HomeMenuRender",!0);return s(),n(g,null,[e.can(e.item)&&!e.hasItems(e.item)&&e.item.link_to==="link"?(s(),n("a",{key:0,class:"card p-4 sm:p-5 shadow-md bg-white dark:bg-slate-900 bg-white dark:bg-slate-900",href:e.item.url,target:"_blank"},[e.item.icon?(s(),n("i",{key:0,class:k(e.item.icon)},null,2)):i("",!0),e.item.svg?(s(),l(c,{key:1,class:"svg-icon",src:e.item.svg},null,8,["src"])):i("",!0),m("span",null,a(e.getTitleHome(e.item)),1),e.children?(s(),n("p",K,[(s(!0),n(g,null,f(e.children,(r,d)=>(s(),n("span",{key:r.index},[d>=1?(s(),n("span",z,", ")):i("",!0),y(a(e.getTitleHome(r,!0)),1)]))),128))])):i("",!0)],8,U)):e.can(e.item)&&!e.hasItems(e.item)&&e.item.link_to==="router-link"?(s(),l(p,{key:1,to:e.item.url,class:"card p-4 sm:p-5 shadow-md bg-white dark:bg-slate-900 bg-white dark:bg-slate-900"},{default:b(()=>[e.item.icon?(s(),n("i",{key:0,class:k(e.item.icon)},null,2)):i("",!0),e.item.svg?(s(),l(c,{key:1,class:"svg-icon",src:e.item.svg},null,8,["src"])):i("",!0),m("span",null,a(e.getTitleHome(e.item)),1),e.children?(s(),n("p",G,[(s(!0),n(g,null,f(e.children,(r,d)=>(s(),n("span",{key:r.index},[d>=1?(s(),n("span",Z,", ")):i("",!0),y(a(e.getTitleHome(r,!0)),1)]))),128))])):i("",!0)]),_:1},8,["to"])):e.can(e.item)&&!e.hasItems(e.item)?(s(),l(p,{key:2,to:`/admin/p/${e.item.id}`,class:"card p-4 sm:p-5 shadow-md bg-white dark:bg-slate-900 bg-white dark:bg-slate-900"},{default:b(()=>[e.item.icon?(s(),n("i",{key:0,class:k(e.item.icon)},null,2)):i("",!0),e.item.svg?(s(),l(c,{key:1,class:"svg-icon",src:e.item.svg},null,8,["src"])):i("",!0),m("span",null,a(e.getTitleHome(e.item)),1),e.children?(s(),n("p",j,[(s(!0),n(g,null,f(e.children,(r,d)=>(s(),n("span",{key:d},[d>=1?(s(),n("span",q,", ")):i("",!0),y(a(e.getTitleHome(r,!0)),1)]))),128))])):i("",!0)]),_:1},8,["to"])):i("",!0),e.can(e.item)&&e.hasItems(e.item)?(s(),l(M,{key:3,title:e.getTitleHome(e.item),children:e.item.children,item:e.findActivehild(e.item),cruds:e.cruds,permissions:e.permissions},null,8,["title","children","item","cruds","permissions"])):i("",!0)],64)}const Q=T(O,[["render",J],["__scopeId","data-v-e47d797d"]]),W={name:"index",components:{HomeMenuRender:Q},setup(e,{emit:o}){const H=h.get($),t=h.get(B),u=h.get(D),_=h.get(A);return{isMobile:L,menu:_,permissions:t,kruds:H,title:u.title,logo:u.logo,logoDark:u.logo_dark,base_url:P,darkMode:V}}},X={class:"grid grow grid-nogutter module-page container pb-16 px-4 mx-auto"},Y=["src","alt"],x=["src","alt"],ee={class:"module-navigation"};function se(e,o,H,t,u,_){const c=R,p=I,M=v("HomeMenuRender");return s(),n("div",X,[w(p,null,{default:b(()=>[w(c,null,{default:b(()=>[y(a(t.title),1)]),_:1})]),_:1}),m("div",null,[t.darkMode?(s(),n("img",{key:0,src:`${t.base_url}${t.logoDark}`,class:"logo-light",alt:t.title},null,8,Y)):i("",!0),t.darkMode?i("",!0):(s(),n("img",{key:1,src:`${t.base_url}${t.logo}`,class:"logo-dark",alt:t.title},null,8,x)),m("nav",ee,[m("div",{class:k(t.isMobile?"grid grid-cols-1  gap-4":"grid grid-cols-3  gap-4")},[(s(!0),n(g,null,f(t.menu,r=>(s(),l(M,{key:r.index,item:r,cruds:t.kruds,permissions:t.permissions.permissions},null,8,["item","cruds","permissions"]))),128))],2)])])])}const pe=T(W,[["render",se]]);export{pe as default};
