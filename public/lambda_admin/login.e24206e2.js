import{a as m,s,L as l,U as c,A as u,f as p,P as d,M as _,K as f,h as g,e as h,j as S,_ as r}from"./entry.46591473.js";import{a as L}from"./common.00ee525f.js";import{V as b,Y as v,a3 as E,a4 as w}from"./vue.13bb76e9.js";import"./ant.ba1bd7fe.js";import"./moment.8b5e7d95.js";import"./cryptoJs.940212dc.js";import"./numeral.ccce3a12.js";const A={props:["selectedLang"],name:"login",data(){return{lambda:s.get(l)}},methods:{onSuccess(e){e.status&&(this.isSuccess=!0,s.set(c,{...e.data,jwt:void 0}),window.init={user:e.data,firebase_config:this.lambda.notify.firebaseConfig,microserviceSettings:[]},s.set(u,e.token,7*24*60*60*1e3),p(e.token),e.data.role===1?window.location.replace(e.path):L.get("/get-permissions").then(t=>{if(t.data.status){s.set(d,t.data.permission.permissions),s.set(_,t.data.permission.menu),s.set(f,t.data.permission.kruds);let i=g(t.data.permission.menu,null,t.data.permission.kruds);s.set(h,i);let n=e.path.replaceAll("#","");if(n.includes("/p/")){let a=n.split("/");a[a.length-1],this.$router.replace("/admin")}else this.$router.replace("/admin")}}))},renderTheme(){return b(()=>S(Object.assign({"../../agent/views/theme/aside/auth/login.vue":()=>r(()=>import("./login.a0470922.js"),["./login.a0470922.js","./common.00ee525f.js","./ant.ba1bd7fe.js","./vue.13bb76e9.js","./entry.46591473.js","./moment.8b5e7d95.js","./cryptoJs.940212dc.js","./numeral.ccce3a12.js","./entry.56e7f14b.css"],import.meta.url),"../../agent/views/theme/default/auth/login.vue":()=>r(()=>import("./login.7eb35954.js"),["./login.7eb35954.js","./common.00ee525f.js","./ant.ba1bd7fe.js","./vue.13bb76e9.js","./entry.46591473.js","./moment.8b5e7d95.js","./cryptoJs.940212dc.js","./numeral.ccce3a12.js","./entry.56e7f14b.css"],import.meta.url)}),`../../agent/views/theme/${this.lambda.theme}/auth/login.vue`))}}};function C(e,t,i,n,a,o){return v(),E(w(o.renderTheme()),{onSuccess:o.onSuccess,selectedLang:i.selectedLang,lambda:a.lambda},null,40,["onSuccess","selectedLang","lambda"])}const M=m(A,[["render",C]]);export{M as default};
