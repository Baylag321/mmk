import{a as m,s,L as l,U as d,A as u,e as c,P as p,M as _,K as f,f as g,c as h,_ as r}from"./entry.07ce20b5.js";import{_ as b}from"./dynamic-import-helper.70ecd33c.js";import{a as v}from"./common.c0c079f4.js";import{W as S,Z as L,a4 as E,a5 as w}from"./vue.94d6394d.js";import"./moment.8b5e7d95.js";import"./ag.01cba310.js";import"./lodash.1dddd912.js";import"./ant.01c818db.js";import"./numeral.fd2a7c31.js";import"./cryptoJs.33cead7e.js";const A={props:["selectedLang"],name:"login",data(){return{lambda:s.get(l)}},methods:{onSuccess(e){e.status&&(this.isSuccess=!0,s.set(d,{...e.data,jwt:void 0}),window.init={user:e.data,firebase_config:this.lambda.notify.firebaseConfig,microserviceSettings:[]},s.set(u,e.token,7*24*60*60*1e3),c(e.token),e.data.role===1?window.location.replace(e.path):v.get("/get-permissions").then(a=>{if(a.data.status){s.set(p,a.data.permission.permissions),s.set(_,a.data.permission.menu),s.set(f,a.data.permission.kruds);let o=g(a.data.permission.menu,null,a.data.permission.kruds);s.set(h,o);let i=e.path.replaceAll("#","");if(i.includes("/p/")){let t=i.split("/");t[t.length-1],this.$router.replace("/admin")}else this.$router.replace("/admin")}}))},renderTheme(){return S(()=>b(Object.assign({"../../../node_modules/@lambda-platform/lambda-vue/src/modules/agent/views/theme/aside/auth/login.vue":()=>r(()=>import("./login.55562c18.js"),["./login.55562c18.js","./common.c0c079f4.js","./ant.01c818db.js","./vue.94d6394d.js","./entry.07ce20b5.js","./moment.8b5e7d95.js","./ag.01cba310.js","./lodash.1dddd912.js","./numeral.fd2a7c31.js","./cryptoJs.33cead7e.js","./entry.dff9f78f.css"],import.meta.url),"../../../node_modules/@lambda-platform/lambda-vue/src/modules/agent/views/theme/default/auth/login.vue":()=>r(()=>import("./login.6622657d.js"),["./login.6622657d.js","./common.c0c079f4.js","./ant.01c818db.js","./vue.94d6394d.js","./entry.07ce20b5.js","./moment.8b5e7d95.js","./ag.01cba310.js","./lodash.1dddd912.js","./numeral.fd2a7c31.js","./cryptoJs.33cead7e.js","./entry.dff9f78f.css"],import.meta.url)}),`../../../node_modules/@lambda-platform/lambda-vue/src/modules/agent/views/theme/${this.lambda.theme}/auth/login.vue`))}}};function C(e,a,o,i,t,n){return L(),E(w(n.renderTheme()),{onSuccess:n.onSuccess,selectedLang:o.selectedLang,lambda:t.lambda},null,40,["onSuccess","selectedLang","lambda"])}const x=m(A,[["render",C]]);export{x as default};
