import{a as m,s,L as l,U as c,A as p,f as u,P as d,M as _,K as f,h as g,e as h,_ as r}from"./entry.2f722340.js";import{_ as S}from"./dynamic-import-helper.70ecd33c.js";import{a as L}from"./common.ee65b9fa.js";import{W as b,Z as v,a4 as E,a5 as w}from"./vue.8df9dc4e.js";import"./moment.8b5e7d95.js";import"./ag.6f4f687c.js";import"./lodash.9ef015a0.js";import"./ant.37833f30.js";import"./numeral.d58f1efd.js";import"./cryptoJs.bc7a374e.js";const A={props:["selectedLang"],name:"login",data(){return{lambda:s.get(l)}},methods:{onSuccess(e){e.status&&(this.isSuccess=!0,s.set(c,{...e.data,jwt:void 0}),window.init={user:e.data,firebase_config:this.lambda.notify.firebaseConfig,microserviceSettings:[]},s.set(p,e.token,7*24*60*60*1e3),u(e.token),e.data.role===1?window.location.replace(e.path):L.get("/get-permissions").then(t=>{if(t.data.status){s.set(d,t.data.permission.permissions),s.set(_,t.data.permission.menu),s.set(f,t.data.permission.kruds);let i=g(t.data.permission.menu,null,t.data.permission.kruds);s.set(h,i);let n=e.path.replaceAll("#","");if(n.includes("/p/")){let a=n.split("/");a[a.length-1],this.$router.replace("/admin")}else this.$router.replace("/admin")}}))},renderTheme(){return b(()=>S(Object.assign({"../../agent/views/theme/aside/auth/login.vue":()=>r(()=>import("./login.5d764fd0.js"),["./login.5d764fd0.js","./common.ee65b9fa.js","./ant.37833f30.js","./vue.8df9dc4e.js","./entry.2f722340.js","./moment.8b5e7d95.js","./ag.6f4f687c.js","./lodash.9ef015a0.js","./numeral.d58f1efd.js","./cryptoJs.bc7a374e.js","./entry.0278832f.css"],import.meta.url),"../../agent/views/theme/default/auth/login.vue":()=>r(()=>import("./login.d529f91b.js"),["./login.d529f91b.js","./common.ee65b9fa.js","./ant.37833f30.js","./vue.8df9dc4e.js","./entry.2f722340.js","./moment.8b5e7d95.js","./ag.6f4f687c.js","./lodash.9ef015a0.js","./numeral.d58f1efd.js","./cryptoJs.bc7a374e.js","./entry.0278832f.css"],import.meta.url)}),`../../agent/views/theme/${this.lambda.theme}/auth/login.vue`))}}};function C(e,t,i,n,a,o){return v(),E(w(o.renderTheme()),{onSuccess:o.onSuccess,selectedLang:i.selectedLang,lambda:a.lambda},null,40,["onSuccess","selectedLang","lambda"])}const x=m(A,[["render",C]]);export{x as default};
