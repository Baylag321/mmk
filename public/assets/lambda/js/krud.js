(self.webpackChunk=self.webpackChunk||[]).push([[1339],{6042:(e,t,s)=>{"use strict";var i=s(91317),r=s.n(i);r().prototype.$bus=new(r())({}),window.Vue=r(),r().config.productionTip=!1;const o={props:["property"],methods:{renderTemplate:e=>s(85636)(`./${e}.vue`).default}};const a={krud:(0,s(51900).Z)(o,(function(){var e=this,t=e.$createElement,s=e._self._c||t;return s(e.renderTemplate(e.property.template),e._b({ref:"krud",tag:"component"},"component",e.property,!1),[s("template",{slot:"left"},[e._t("left")],2),e._v(" "),s("template",{slot:"nav"},[e._t("nav")],2),e._v(" "),s("template",{slot:"v-nav"},[e._t("v-nav")],2),e._v(" "),s("template",{slot:"tooloptions"},[e._t("toolbuttons")],2),e._v(" "),s("div",{staticClass:"krud-header-right",attrs:{slot:"right"},slot:"right"},[e._t("right",(function(){return[s("user-control")]}))],2)],2)}),[],!1,null,null,null).exports},n=function(e,t){n.installed||Object.keys(a).forEach((t=>e.component(t,a[t])))};"undefined"!=typeof window&&window.Vue&&n(window.Vue)},46497:(e,t,s)=>{"use strict";s.d(t,{Z:()=>i});const i={props:["title","icon","grid","form","hideHeader","hasSelection","actions","dbClickAction","onRowSelect","rowCurrentChange","permissions","user_condition","custom_condition","view_url","mode","onPropertySuccess","onPropertyError","page_id","withoutHeader","withCrudLog"],components:{krudtools:s(48502).default},data:()=>({closeByBtn:window.init.closeByBtn,gridSrc:"",formSrc:"",editMode:!1,searchModel:"",form_width:600,exportLoading:!1,isPrint:!1,isExcel:!1,isRefresh:!1,isSave:!1,rowId:null}),computed:{hasVNavSlot(){return!!this.$slots["v-nav"]},hasNavSlot(){return!!this.$slots.nav},hasLeftSlot(){return!!this.$slots.left}},methods:{view(e){this.rowId=e,this.editMode=!0,this.$refs.form.viewMode=!0,this.$refs.form.editModel(e),this.templateEdit&&this.templateEdit()},edit(e){this.rowId=e,this.editMode=!0,this.$refs.form.editModel(e),this.templateEdit&&this.templateEdit()},clone(e){this.$refs.form.cloneModel(e),this.templateEdit&&this.templateEdit()},quickEdit(e){console.log(e)},refresh(){this.searchModel=null,this.$refs.grid.refresh()},search(e){this.$refs.grid.searchData(e,1)},stopLoading(e){this.exportLoading=!1,e||this.$Message.error("Татах үед алдаа гарлаа!")},exportExcel(){this.exportLoading=!0,this.$refs.grid.exportExcel(this.stopLoading)},print(){this.$refs.grid.print()},save(){this.$refs.grid.saveGridData()},onSuccess(e){void 0!==this.mode&&this.mode&&"refresh"==this.mode?this.$refs.grid.refresh():this.editMode?this.$refs.grid.update(e):this.$refs.grid.append(e),this.editMode=!1,this.templateOnSuccess&&this.templateOnSuccess(),this.onPropertySuccess&&this.onPropertySuccess()},onError(e){this.templateOnError&&this.templateOnError(),this.onPropertyError&&this.onPropertyError()}}}},85636:(e,t,s)=>{var i={"./canvas.vue":39522,"./create.vue":106,"./default.vue":4586,"./edit.vue":22522,"./empty.vue":62606,"./krudtools.vue":48502,"./list.vue":81582,"./progress-list.vue":16673,"./spa.vue":47799,"./tree.vue":94680,"./window.vue":61313};function r(e){var t=o(e);return s(t)}function o(e){if(!s.o(i,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return i[e]}r.keys=function(){return Object.keys(i)},r.resolve=o,e.exports=r,r.id=85636},80953:(e,t,s)=>{"use strict";s.d(t,{Z:()=>o});var i=s(23645),r=s.n(i)()((function(e){return e[1]}));r.push([e.id,".blackout[data-v-18026760]{background-color:rgba(0,0,0,.3);height:100vh;left:0;position:fixed;top:0;width:100vw;z-index:10}.dock[data-v-18026760]{box-shadow:-2px 3px 3px rgba(0,0,0,.2);position:absolute;right:0;top:0;z-index:3000}.dock[data-v-18026760],section[data-v-18026760]{height:100%;overflow:hidden}section[data-v-18026760]{box-sizing:border-box;display:inline-block;position:relative}.panel>div[data-v-18026760]{height:100%;overflow:auto}.panel.default[data-v-18026760]{background-color:#fff}.action-close[data-v-18026760]{cursor:pointer;font-size:24px;position:absolute;right:12px;top:6px}.action-extra.default[data-v-18026760]{bottom:1rem;cursor:pointer;position:absolute;right:1rem}.vsp-br[data-v-18026760]{border-right:2px solid rgba(0,0,0,.2)}.vsp-bl[data-v-18026760]{border-left:2px solid rgba(0,0,0,.1)}.slide-out-enter-active[data-v-18026760],.slide-out-leave-active[data-v-18026760]{transition:transform .4s cubic-bezier(.215,.61,.355,1)}.slide-out-enter[data-v-18026760],.slide-out-leave-to[data-v-18026760]{transform:translateX(100%)}.fade-enter-active[data-v-18026760],.fade-leave-active[data-v-18026760]{transition:opacity .4s ease-in}.fade-enter[data-v-18026760],.fade-leave-to[data-v-18026760]{opacity:0}.bg-transparent[data-v-18026760]{background-color:transparent!important}",""]);const o=r},23645:e=>{"use strict";e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var s=e(t);return t[2]?"@media ".concat(t[2]," {").concat(s,"}"):s})).join("")},t.i=function(e,s,i){"string"==typeof e&&(e=[[null,e,""]]);var r={};if(i)for(var o=0;o<this.length;o++){var a=this[o][0];null!=a&&(r[a]=!0)}for(var n=0;n<e.length;n++){var l=[].concat(e[n]);i&&r[l[0]]||(s&&(l[2]?l[2]="".concat(s," and ").concat(l[2]):l[2]=s),t.push(l))}},t}},93379:(e,t,s)=>{"use strict";var i,r=function(){return void 0===i&&(i=Boolean(window&&document&&document.all&&!window.atob)),i},o=function(){var e={};return function(t){if(void 0===e[t]){var s=document.querySelector(t);if(window.HTMLIFrameElement&&s instanceof window.HTMLIFrameElement)try{s=s.contentDocument.head}catch(e){s=null}e[t]=s}return e[t]}}(),a=[];function n(e){for(var t=-1,s=0;s<a.length;s++)if(a[s].identifier===e){t=s;break}return t}function l(e,t){for(var s={},i=[],r=0;r<e.length;r++){var o=e[r],l=t.base?o[0]+t.base:o[0],d=s[l]||0,c="".concat(l," ").concat(d);s[l]=d+1;var p=n(c),h={css:o[1],media:o[2],sourceMap:o[3]};-1!==p?(a[p].references++,a[p].updater(h)):a.push({identifier:c,updater:m(h,t),references:1}),i.push(c)}return i}function d(e){var t=document.createElement("style"),i=e.attributes||{};if(void 0===i.nonce){var r=s.nc;r&&(i.nonce=r)}if(Object.keys(i).forEach((function(e){t.setAttribute(e,i[e])})),"function"==typeof e.insert)e.insert(t);else{var a=o(e.insert||"head");if(!a)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");a.appendChild(t)}return t}var c,p=(c=[],function(e,t){return c[e]=t,c.filter(Boolean).join("\n")});function h(e,t,s,i){var r=s?"":i.media?"@media ".concat(i.media," {").concat(i.css,"}"):i.css;if(e.styleSheet)e.styleSheet.cssText=p(t,r);else{var o=document.createTextNode(r),a=e.childNodes;a[t]&&e.removeChild(a[t]),a.length?e.insertBefore(o,a[t]):e.appendChild(o)}}function u(e,t,s){var i=s.css,r=s.media,o=s.sourceMap;if(r?e.setAttribute("media",r):e.removeAttribute("media"),o&&"undefined"!=typeof btoa&&(i+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(o))))," */")),e.styleSheet)e.styleSheet.cssText=i;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(i))}}var v=null,f=0;function m(e,t){var s,i,r;if(t.singleton){var o=f++;s=v||(v=d(t)),i=h.bind(null,s,o,!1),r=h.bind(null,s,o,!0)}else s=d(t),i=u.bind(null,s,t),r=function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(s)};return i(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap)return;i(e=t)}else r()}}e.exports=function(e,t){(t=t||{}).singleton||"boolean"==typeof t.singleton||(t.singleton=r());var s=l(e=e||[],t);return function(e){if(e=e||[],"[object Array]"===Object.prototype.toString.call(e)){for(var i=0;i<s.length;i++){var r=n(s[i]);a[r].references--}for(var o=l(e,t),d=0;d<s.length;d++){var c=n(s[d]);0===a[c].references&&(a[c].updater(),a.splice(c,1))}s=o}}}},29491:(e,t,s)=>{"use strict";s.d(t,{Z:()=>r});const i={name:"crudLog",props:["form","grid","rowId"],data:()=>({logs:[],reads:[],logColumns:[{title:"Бүртгэлийн төрөл",key:"action"},{title:"Хэрэглэгч",key:"user"},{title:"Огноо",key:"created_at"}],readColumns:[{title:"Хэрэглэгч",key:"user"},{title:"Огноо",key:"created_at"}]}),computed:{lang(){const e=["registration_history","Information_viewing_history"];return e.reduce(((t,s,i)=>(t[s]=this.$t("crud."+e[i]),t)),{})}},methods:{getLog(){this.logs=[],this.reads=[],axios.post("/lambda/puzzle/grid/data/crud_log?&paginate=5000&page=1&sort=id&order=desc",{schemaId:this.form,row_id:this.rowId}).then((e=>{e.data.data.forEach((e=>{"edit"!=e.action&&this.logs.push({action:"store"==e.action?"Бүртгэсэн":"Зассан",user:e.last_name.charAt(0)+"."+e.first_name,created_at:moment(e.created_at).format("YYYY-MM-DD HH:mm:ss")}),"edit"==e.action&&this.reads.push({user:e.last_name.charAt(0)+"."+e.first_name,created_at:moment(e.created_at).format("YYYY-MM-DD HH:mm:ss")})}))}))}},watch:{rowId(){this.getLog()}},mounted(){this.getLog()}};const r=(0,s(51900).Z)(i,(function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"crud-log"},[s("div",{staticClass:"fieldset"},[s("legend",[e._v(e._s(e.lang.lang))]),e._v(" "),s("Table",{attrs:{columns:e.logColumns,data:e.logs,size:"small",height:e.logs.length>=3?200:100}})],1),e._v(" "),s("div",{staticClass:"fieldset"},[s("legend",[e._v(e._s(e.lang.Information_viewing_history))]),e._v(" "),s("Table",{attrs:{columns:e.readColumns,data:e.reads,size:"small",height:e.reads.length>=3?200:80}})],1)])}),[],!1,null,null,null).exports},20127:(e,t,s)=>{"use strict";s.d(t,{Z:()=>d});let i="cubic-bezier(0.39, 0.575, 0.565, 1)";const r={name:"VueSideoutPanel",props:{closeByBtn:{default:!1,required:!1},value:{default:!1,required:!0},count:{default:1,validator:e=>e>0&&e<=2},closeHtml:{default:"Close"},closeAllHtml:{type:String,default:"Close all"},widths:{type:Array,default(){return 1==this.count?["100%"]:["100%","50%"]},validator:e=>e.reduce(((e,t)=>e&&/col-(\w+-)?\d+|\d+px|\d+%/.test(t)),!0)},classes:{type:Array,default:()=>new Array(5).fill("default"),validator:e=>e.reduce(((e,t)=>e&&(!t||"string"==typeof t)),!0)},styles:{type:Array,default:()=>[{},{},{},{},{}],validator:e=>e.reduce(((e,t)=>e&&(!t||"object"==typeof t)),!0)}},data(){return{isVisibleDock:this.value,isVisibleSections:[],isShifted:!1,d_styles:[],d_classes:[]}},created(){this.init()},watch:{value(){this.isVisibleDock=this.value},widths(){this.init()}},computed:{isVisibleCloseAll(){return 2==this.count&&!this.isShifted}},methods:{init(){this.isShifted=!1,this.d_styles=[],this.d_classes=[];for(let e=0;e<5;e++)this.classes[e]&&this.classes[e].length>=0?2==e&&"same"==this.classes[e]?this.d_classes.push(this.classes[e-1]):this.d_classes.push(this.classes[e]):this.d_classes.push("default");2==this.count&&(this.d_classes[1]+=" vsp-br",this.d_classes[2]+=" vsp-bl");for(let e=0;e<5;e++)2==e&&this.styles[e]&&this.styles[e].same?this.d_styles.push(Object.assign({},this.styles[e-1]||{})):this.d_styles.push(this.styles[e]||{});let e=!1;1==this.count?(this.widths[0]=this.widths[0]||this.widths[1],this.widths[1]="100%"):/\d+%/.test(this.widths[1])&&(this.d_styles[2].width=100-this.widths[1].slice(0,-1)+"%",e=!0),this.widths.forEach(((t,s)=>{if(/col-(\w+-)?\d+/.test(t))this.d_classes[s]+=" "+t;else{if(2==s&&e)return;this.d_styles[s].width=t}})),this.isVisibleSections=new Array(this.count).fill(1)},_style(e){return this.d_styles[e]},_class(e){return this.d_classes[e]},setTransform(e,t){["webkitTransform","MozTransform","msTransform","OTransform","transform"].forEach((s=>{e.style[s]=t[0]})),e.style.transitionTimingFunction=t[1],e.style.transitionDuration=t[2]},d_shift(){let e=-this.$refs.section[1].offsetWidth;this.setTransform(this.$refs.dock,["right","cubic-bezier(0.215, 0.61, 0.355, 1)",".8s"]),this.$refs.dock.style.right=`${e}px`,this.isShifted=!0},s_beforeLeave(){this.isVisibleSections[1]?(this.$refs.dock.style.boxShadow="none",this.$refs.section[1].style.boxShadow="-3px 3px 9px rgba(0, 0, 0, 0.3)"):this.d_shift()},s_afterLeave(){this.isVisibleSections[1]&&(this.$refs.dock.style.boxShadow="-3px 3px 9px rgba(0, 0, 0, 0.3)",this.$refs.dock.style.width=this.$refs.section[0].offsetWidth+"px",this.$refs.section[0].style.width="100%")},d_enter(){2==this.count&&!this.showExtra&&this.d_shift()},closeDock(){this.isVisibleDock=!1,this.init(),this.$emit("close")},close(e){1==this.count?this.closeDock():this.isShifted?(this.setTransform(this.$refs.dock,["right",i,"1.2s"]),this.closeDock()):0==e?this.$set(this.isVisibleSections,0,0):1==e&&this.isVisibleSections[0]?this.d_shift():this.closeDock()},closeAll(){this.closeByBtn||(this.isShifted&&this.setTransform(this.$refs.dock,["right",i,"1.2ss"]),this.closeDock())}}};var o=s(93379),a=s.n(o),n=s(80953),l={insert:"head",singleton:!1};a()(n.Z,l);n.Z.locals;const d=(0,s(51900).Z)(r,(function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("transition",{attrs:{name:"fade"}},[e.isVisibleDock?s("div",{staticClass:"blackout",on:{click:e.closeAll}}):e._e()]),e._v(" "),s("transition",{attrs:{name:"slide-out"},on:{enter:e.d_enter}},[s("div",{directives:[{name:"show",rawName:"v-show",value:e.isVisibleDock,expression:"isVisibleDock"}],ref:"dock",staticClass:"dock",class:e._class(0),style:e._style(0)},[s("transition-group",{attrs:{name:"slide-out"},on:{"before-leave":e.s_beforeLeave,afterLeave:e.s_afterLeave}},e._l(e.isVisibleSections,(function(t,i){return t?s("section",{key:"k"+i,ref:"section",refInFor:!0,staticClass:"panel",class:e._class(i+1),style:e._style(i+1)},[s("a",{staticClass:"action-close",attrs:{href:"#"},on:{click:function(t){return t.preventDefault(),e.close(i)}}},[s("Icon",{attrs:{type:"ios-close-circle-outline"}})],1),e._v(" "),e._t("default")],2):e._e()})),0)],1)])],1)}),[],!1,null,"18026760",null).exports},39522:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>a});var i=s(20127),r=s(29491);const o={mixins:[s(46497).Z],data:()=>({form_width:800,openSlidePanel:!1,exportLoading:!1}),components:{"slide-panel":i.Z,"crud-log":r.Z},computed:{lang(){const e=["_add","Information_viewing_history"];return e.reduce(((t,s,i)=>(t[s]=this.$t("crud."+e[i]),t)),{})}},methods:{templateEdit(){this.openSlidePanel=!0},templateOnSuccess(){this.openSlidePanel=!1},templateOnError(){},onReady(e){this.form_width=e.width},coleSidePanel(){this.openSlidePanel=!1,this.rowId=null}}};const a=(0,s(51900).Z)(o,(function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("section",{staticClass:"offcanvas-template"},[s("div",{staticClass:"crud-page"},[e.withoutHeader?s("portal",{attrs:{to:"header-left"}},[s("h3",[e._v(e._s(e.title))]),e._v(" "),!e.permissions||e.permissions.c?s("span",{staticClass:"divider"}):e._e(),e._v(" "),!e.permissions||e.permissions.c?s("Button",{attrs:{type:"success",shape:"circle",size:"small",icon:"md-add"},on:{click:function(t){e.openSlidePanel=!0,e.editMode=!1}}},[e._v("\n                "+e._s(e.lang._add)+"\n            ")]):e._e()],1):e._e(),e._v(" "),e.withoutHeader?s("portal",{attrs:{to:"header-right"}},[s("krudtools",{attrs:{search:e.search,refresh:e.refresh,exportExcel:e.exportExcel,importExcel:e.importExcel,exportLoading:e.exportLoading,print:e.print,save:e.save,isPrint:e.isPrint,isExcel:e.isExcel,isExcelUpload:e.isExcelUpload,isRefresh:e.isRefresh,isSave:e.isSave}})],1):e._e(),e._v(" "),e.withoutHeader?e._e():s("div",{staticClass:"crud-page-header"},[e.hasNavSlot?s("div",{staticClass:"crud-page-header-left"},[e._t("nav"),e._v(" "),!e.permissions||e.permissions.c?s("span",{staticClass:"divider"}):e._e(),e._v(" "),!e.permissions||e.permissions.c?s("Button",{attrs:{type:"success",shape:"circle",size:"small",icon:"md-add"},on:{click:function(t){e.openSlidePanel=!0,e.editMode=!1}}},[e._v("\n                    "+e._s(e.lang._add)+"\n                ")]):e._e()],2):s("div",{class:"crud-page-header-left "+(e.hasNavSlot?"":"no-nav")},[null!=e.$props.title?s("h3",[e._v(e._s(e.$props.title.replace("-"," ")))]):e._e(),e._v(" "),!e.permissions||e.permissions.c?s("span",{staticClass:"divider"}):e._e(),e._v(" "),!e.permissions||e.permissions.c?s("Button",{attrs:{type:"success",shape:"circle",size:"small",icon:"md-add"},on:{click:function(t){e.openSlidePanel=!0,e.editMode=!1}}},[e._v("\n                    "+e._s(e.lang._add)+"\n                ")]):e._e()],1),e._v(" "),s("div",{staticClass:"crud-page-header-right"},[s("div",{staticClass:"tooloptions"},[e._t("tooloptions")],2),e._v(" "),s("krudtools",{attrs:{search:e.search,refresh:e.refresh,exportExcel:e.exportExcel,exportLoading:e.exportLoading,print:e.print,save:e.save,isPrint:e.isPrint,isExcel:e.isExcel,isRefresh:e.isRefresh,isSave:e.isSave}}),e._v(" "),e._t("right")],2)]),e._v(" "),s("div",{staticClass:"crud-page-body"},[e.hasVNavSlot?s("div",{staticClass:"v-nav"},[e._t("v-nav")],2):e._e(),e._v(" "),s("div",{staticClass:"dg-flex"},[!e.permissions||e.permissions.r?s("datagrid",{ref:"grid",attrs:{schemaID:e.grid,paginate:50,fnClone:e.clone,fnEdit:e.edit,fnQuickEdit:e.quickEdit,fnView:e.view,actions:e.$props.actions,dblClick:e.$props.dbClickAction,onRowSelect:e.$props.onRowSelect,permissions:e.permissions,page_id:e.page_id,custom_condition:e.$props.custom_condition?e.$props.custom_condition:null,user_condition:e.user_condition?e.user_condition.gridCondition:null}}):e._e()],1)]),e._v(" "),s("slide-panel",{attrs:{widths:[e.form_width?e.form_width:"600px"],closeByBtn:!0,withCrudLog:e.withCrudLog},on:{close:e.coleSidePanel},model:{value:e.openSlidePanel,callback:function(t){e.openSlidePanel=t},expression:"openSlidePanel"}},[s("div",{class:e.withCrudLog&&e.editMode?"with-crud-log":""},[s("dataform",{ref:"form",attrs:{schemaID:e.form,editMode:e.editMode,onSuccess:e.onSuccess,onReady:e.onReady,do_render:e.openSlidePanel,permissions:e.permissions,page_id:e.page_id,user_condition:e.user_condition?e.user_condition.formCondition:null,onError:e.onError}}),e._v(" "),e.withCrudLog&&e.editMode?s("crud-log",{attrs:{form:e.form,rowId:e.rowId,grid:e.grid}}):e._e()],1)])],1)])}),[],!1,null,null,null).exports},106:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>r});const i={props:["schema"],methods:{onSuccess(e){},onError(e){}}};const r=(0,s(51900).Z)(i,(function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("section",{staticClass:"edit"},[s("div",{staticClass:"crud-page"},[s("dataform",{ref:"form",attrs:{schemaID:e.schema,editMode:!0,onSuccess:e.onSuccess,onError:e.onError}})],1)])}),[],!1,null,null,null).exports},4586:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>r});const i={props:["title","grid","form"],components:{"slide-panel":s(20127).Z},data:()=>({gridSrc:"",formSrc:"",openSlidePanel:!1,editMode:!1}),created(){this.$emit("grid-add")},methods:{view(e){console.log(e)},edit(e){this.openSlidePanel=!0,this.editMode=!0,this.$refs.form.editModel(e)},quickEdit(e){console.log(e)},onSuccess(e){this.editMode?this.$refs.grid.update(e):this.$refs.grid.append(e)},onError(e){}}};const r=(0,s(51900).Z)(i,(function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("section",{staticClass:"template2"},[s("div",{staticClass:"crud-page"},[s("div",{staticClass:"crud-page-header"},[s("div",{staticClass:"crud-page-header-left"},[s("h3",[e._v(e._s(e.$props.title.replace("-"," ")))])]),e._v(" "),s("div",{staticClass:"crud-page-header-right"},[e._t("tooloptions"),e._v(" "),s("krudtools",{attrs:{search:e.search,refresh:e.refresh,exportExcel:e.exportExcel}})],2)]),e._v(" "),s("div",{staticClass:"crud-page-body"},[s("div",{staticClass:"data-grid"},[s("datagrid",{ref:"grid",attrs:{schemaID:e.grid,paginate:50,fnEdit:e.edit,fnQuickEdit:e.quickEdit,fnView:e.view,actions:e.$props.actions}})],1),e._v(" "),s("div",{staticClass:"data-form"},[s("dataform",{ref:"form",attrs:{schemaID:e.form,editMode:e.editMode,onSuccess:e.onSuccess,onError:e.onError}})],1)])])])}),[],!1,null,null,null).exports},22522:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>r});const i={props:["schema","id"],mounted(){setTimeout((()=>{this.$refs.form.editModel(this.$props.id)}),500)},methods:{onSuccess(e){},onError(e){}}};const r=(0,s(51900).Z)(i,(function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("section",{staticClass:"offcanvas-template"},[s("div",{staticClass:"crud-page"},[s("div",{staticClass:"crud-page-header"},[s("div",{staticClass:"crud-page-header-left"},[e._t("nav")],2),e._v(" "),s("div",{staticClass:"crud-page-header-right"},[e._t("tooloptions"),e._v(" "),e._t("right")],2)]),e._v(" "),s("div",{staticClass:"crud-page-body"},[e.hasVNavSlot?s("div",{staticClass:"v-nav"},[e._t("v-nav")],2):e._e(),e._v(" "),s("div",{staticClass:"dg-flex"},[s("dataform",{ref:"form",attrs:{schemaID:e.schema,editMode:!0,onSuccess:e.onSuccess,onError:e.onError}})],1)])])])}),[],!1,null,null,null).exports},62606:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>r});const i={computed:{hasVNavSlot(){return!!this.$slots["v-nav"]}}};const r=(0,s(51900).Z)(i,(function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("section",{staticClass:"empty-template"},[s("div",{class:"crud-page "+(e.hideHeader?"no-header":"")},[s("paper-header",{staticClass:"mini with-tab-menu paper-header-nav"},[s("template",{slot:"nav"},[e._t("nav")],2),e._v(" "),s("template",{slot:"right-tools"},[e._t("right_tools")],2),e._v(" "),s("template",{slot:"right"},[e._t("right")],2)],2),e._v(" "),s("div",{staticClass:"crud-page-body"},[e.hasVNavSlot?s("div",{staticClass:"v-nav"},[e._t("v-nav")],2):e._e(),e._v(" "),s("div",{staticClass:"dg-flex"},[e._t("dg-slot-body")],2)])],1)])}),[],!1,null,null,null).exports},48502:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>r});const i={props:["refresh","exportExcel","print","search","save","options","isExcel","isPrint","isRefresh","isSave","isSearch","exportLoading"],data:()=>({searchModel:null}),computed:{lang(){const e=["_save","re_call","_print","download_file"];return e.reduce(((t,s,i)=>(t[s]=this.$t("crud."+e[i]),t)),{})}},methods:{searchGrid(e){e.preventDefault(),this.$props.search(this.searchModel)}}};const r=(0,s(51900).Z)(i,(function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"crud-page-header-right-inside"},[s("Tooltip",{attrs:{content:e.lang._save}},[e.isSave?s("a",{staticClass:"btnLine",on:{click:e.$props.save}},[s("i",{staticClass:"ti-save"})]):e._e()]),e._v(" "),s("Tooltip",{attrs:{content:e.lang.re_call}},[e.isRefresh?s("a",{staticClass:"btnLine",on:{click:e.$props.refresh}},[s("i",{staticClass:"ti-reload"})]):e._e()]),e._v(" "),e.isPrint?s("Tooltip",{attrs:{content:e.lang._print}},[s("a",{staticClass:"btnLine",on:{click:e.$props.print}},[s("i",{staticClass:"ti-printer"})])]):e._e(),e._v(" "),e.isExcel?s("Tooltip",{attrs:{content:e.lang.download_file}},[e.$props.exportLoading?s("a",{staticClass:"btnLine",attrs:{href:"javascript:void(0)"}},[s("Spin",[s("Icon",{staticClass:"spin-icon-load",attrs:{type:"ios-loading",size:"18"}})],1)],1):s("a",{staticClass:"btnLine",on:{click:e.$props.exportExcel}},[s("i",{staticClass:"ti-download"})])]):e._e(),e._v(" "),e.isSearch?s("form",{on:{submit:e.searchGrid}},[s("div",{staticClass:"right-search"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.searchModel,expression:"searchModel"}],staticClass:"right-search-input",attrs:{placeholder:e.$static_words?e.$static_words.search:"Хайх..."},domProps:{value:e.searchModel},on:{input:function(t){t.target.composing||(e.searchModel=t.target.value)}}}),e._v(" "),s("i",{staticClass:"ti-search"})])]):e._e()],1)}),[],!1,null,null,null).exports},81582:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>r});const i={mixins:[s(46497).Z]};const r=(0,s(51900).Z)(i,(function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("section",{staticClass:"list-template"},[s("div",{class:"crud-page "+(e.hideHeader?"no-header":"")},[s("div",{staticClass:"crud-page-header"},[e.hasNavSlot?s("div",{staticClass:"krud-left"},[s("div",{staticClass:"crud-page-header-left"},[e._t("nav")],2)]):s("div",{staticClass:"crud-page-header-left"},[e.$props.icon?s("i",{class:e.icon}):s("i",{staticClass:"ti-list-ol"}),e._v(" "),e.$props.title?s("h3",[e._v(e._s(e.$props.title.replace(/-/g," ")))]):e._e(),e._v(" "),e._t("nav")],2),e._v(" "),s("div",{staticClass:"crud-page-header-right"},[s("div",{staticClass:"tool-options"},[e._t("tooloptions")],2),e._v(" "),s("krudtools",{attrs:{search:e.search,refresh:e.refresh,exportExcel:e.exportExcel,print:e.print,save:e.save,isPrint:e.isPrint,isExcel:e.isExcel,isRefresh:e.isRefresh,isSave:e.isSave}}),e._v(" "),e._t("right")],2)]),e._v(" "),s("div",{staticClass:"crud-page-body"},[e.hasVNavSlot?s("div",{staticClass:"v-nav"},[e._t("v-nav")],2):e._e(),e._v(" "),s("div",{staticClass:"dg-flex"},[s("datagrid",{ref:"grid",attrs:{schemaID:e.grid,paginate:50,fnEdit:e.edit,fnQuickEdit:e.quickEdit,fnView:e.view,hasSelection:void 0!==typeof e.$props.hasSelection&&e.$props.hasSelection,onRowSelect:e.$props.onRowSelect,actions:e.$props.actions,user_condition:e.$props.user_condition?e.$props.user_condition:null,custom_condition:e.$props.custom_condition?e.$props.custom_condition:null,dblClick:e.$props.dbClickAction,liveData:e.$props.liveData}})],1)])])])}),[],!1,null,null,null).exports},16673:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>r});const i={mixins:[s(46497).Z]};const r=(0,s(51900).Z)(i,(function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("section",{staticClass:"offcanvas-template"},[s("div",{staticClass:"crud-page"},[s("div",{staticClass:"crud-page-header"},[s("div",{staticClass:"crud-page-header-left"},[s("h3",[e._v(e._s(e.$props.title.replace("-"," ")))]),e._v(" "),e._t("tooloptions")],2),e._v(" "),s("div",{staticClass:"crud-page-header-right"},[s("krudtools",{attrs:{search:e.search,refresh:e.refresh,exportExcel:e.exportExcel}})],1)]),e._v(" "),s("div",{staticClass:"crud-page-body"},[s("datagrid",{ref:"grid",attrs:{schemaID:e.grid,paginate:50,fnEdit:e.edit,fnQuickEdit:e.quickEdit,fnView:e.view,actions:e.$props.actions,dblClick:e.$props.dbClickAction,rowCurrentChange:e.$props.rowCurrentChange}})],1)])])}),[],!1,null,null,null).exports},47799:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>r});const i={mixins:[s(46497).Z]};const r=(0,s(51900).Z)(i,(function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("section",{staticClass:"spa"},[s("div",{staticClass:"crud-page"},[s("div",{staticClass:"crud-page-header"},[s("div",{staticClass:"crud-page-header-left"},[e.$props.icon?s("i",{class:e.icon}):e._e(),e._v(" "),e.$props.title?s("h3",[e._v(e._s(e.$props.title.replace("-"," ")))]):e._e(),e._v(" "),e._t("nav")],2),e._v(" "),s("div",{staticClass:"crud-page-header-right"},[s("div",{staticClass:"tool-options"},[e._t("tooloptions")],2),e._v(" "),s("krudtools",{attrs:{search:e.search,refresh:e.refresh,exportExcel:e.exportExcel,print:e.print,save:e.save,isPrint:e.isPrint,isExcel:e.isExcel,isRefresh:e.isRefresh,isSave:e.isSave}}),e._v(" "),e._t("right")],2)]),e._v(" "),s("div",{staticClass:"crud-page-body"},[e.hasVNavSlot?s("div",{staticClass:"v-nav"},[e._t("v-nav")],2):e._e(),e._v(" "),s("div",{staticClass:"dg-flex"},[s("div",{staticClass:"data-grid"},[s("datagrid",{ref:"grid",attrs:{schemaID:e.grid,hasSelection:void 0!==typeof e.$props.hasSelection&&e.$props.hasSelection,paginate:50,fnEdit:e.edit,fnQuickEdit:e.quickEdit,fnView:e.view,actions:e.$props.actions,dblClick:e.$props.dbClickAction,onRowSelect:e.$props.onRowSelect}})],1),e._v(" "),s("div",{staticClass:"data-form",style:"width: "+(e.form_width?e.form_width:600)},[s("dataform",{ref:"form",style:"width: "+(e.form_width?e.form_width:600),attrs:{schemaID:e.form,editMode:e.editMode,onSuccess:e.onSuccess,onError:e.onError}})],1)])])])])}),[],!1,null,null,null).exports},94680:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>o});var i=s(20127);const r={props:["title","treeid","treedata","form","refreshtree","deletetreeitem"],components:{krudtools:s(48502).default,"slide-panel":i.Z},data:()=>({openSlidePanel:!1}),mounted(){},computed:{lang(){const e=["re_call"];return e.reduce(((t,s,i)=>(t[s]=this.$t("crud."+e[i]),t)),{})}},methods:{templateEdit(){this.openSlidePanel=!0},templateOnSuccess(){this.openSlidePanel=!1},templateOnError(){this.openSlidePanel=!1},onSuccess(e){this.$props.refreshtree(),this.templateOnSuccess&&this.templateOnSuccess()},onError(e){this.templateOnError&&this.templateOnError()},renderContent(e,{root:t,node:s,data:i}){return e("span",{style:{display:"inline-block",width:"100%"}},[e("span",[e("Icon",{props:{type:"ios-paper-outline"},style:{marginRight:"8px"}}),e("span",i.title)]),e("span",{style:{display:"inline-block",float:"right",marginRight:"32px"}},[e("Button",{props:Object.assign({},{icon:"ios-plus-empty",type:"primary"},{icon:"ios-plus-empty"}),style:{marginRight:"8px"},on:{click:()=>{this.append(i)}}}),e("Poptip",{props:{confirm:!0,title:"Уг өгөгдлийг устгахдаа итгэлтэй байна уу?",transfer:!0},on:{"on-ok":()=>{this.$props.deletetreeitem(i)}}},[e("Button",{props:Object.assign({},{icon:"ios-plus-empty",type:"primary"},{icon:"ios-minus-empty"}),style:{marginRight:"8px"}})]),e("Button",{props:Object.assign({},{icon:"ios-plus-empty",type:"primary"},{icon:"ios-color-wand-outline"}),style:{marginRight:"8px"},on:{click:()=>{this.edittree(i)}}}),e("Button",{props:Object.assign({},{icon:"ios-plus-empty",type:"primary"},{icon:"ios-musical-notes"}),style:{marginRight:"8px"},on:{click:()=>{this.remove(t,s,i)}}}),e("Button",{props:Object.assign({},{icon:"ios-plus-empty",type:"primary"},{icon:"ios-browsers-outline"}),on:{click:()=>{this.remove(t,s,i)}}})])])},append(e){this.editMode=!1,this.openSlidePanel=!0,this.$refs.form.setHiddenValues([{key:"group_id",val:e.id}])},remove(e,t,s){const i=e.find((e=>e===t)).parent,r=e.find((e=>e.nodeKey===i)).node,o=r.children.indexOf(s);r.children.splice(o,1)},edittree(e){this.editMode=!0,this.$refs.form.editModel(e.id),this.templateEdit&&this.templateEdit()}}};const o=(0,s(51900).Z)(r,(function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("section",{staticClass:"offcanvas-template"},[s("div",{staticClass:"crud-page"},[s("div",{staticClass:"crud-page-header"},[s("div",{staticClass:"crud-page-header-left"},[s("h3",[e._v(e._s(e.$props.title.replace("-"," ")))])]),e._v(" "),s("div",{staticClass:"crud-page-header-right"},[s("Tooltip",{attrs:{content:e.lang.re_call}},[s("Button",{staticClass:"crud-tool",attrs:{type:"ghost",icon:"ios-refresh-empty"},on:{click:e.$props.refreshtree}})],1)],1)]),e._v(" "),s("div",{staticClass:"crud-page-body",staticStyle:{padding:"50px","overflow-y":"auto"}},[s("Tree",{attrs:{data:e.$props.treedata,render:e.renderContent}})],1),e._v(" "),s("slide-panel",{attrs:{widths:["36%"]},on:{close:function(t){e.openSlidePanel=!1}},model:{value:e.openSlidePanel,callback:function(t){e.openSlidePanel=t},expression:"openSlidePanel"}},[s("dataform",{ref:"form",attrs:{schemaID:e.form,editMode:e.editMode,onSuccess:e.onSuccess,onError:e.onError}})],1)],1)])}),[],!1,null,null,null).exports},61313:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>a});var i=s(20127),r=s(29491);const o={mixins:[s(46497).Z],data:()=>({form_width:800,openSlidePanel:!1,exportLoading:!1}),components:{"slide-panel":i.Z,"crud-log":r.Z},computed:{lang(){const e=["_add","Information_viewing_history"];return e.reduce(((t,s,i)=>(t[s]=this.$t("crud."+e[i]),t)),{})}},methods:{templateEdit(){this.openSlidePanel=!0},templateOnSuccess(){this.openSlidePanel=!1},templateOnError(){},onReady(e){this.form_width=e.width}}};const a=(0,s(51900).Z)(o,(function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("section",{staticClass:"offcanvas-template"},[s("div",{staticClass:"crud-page"},[e.withoutHeader?s("portal",{attrs:{to:"header-left"}},[s("h3",[e._v(e._s(e.title))]),e._v(" "),!e.permissions||e.permissions.c?s("span",{staticClass:"divider"}):e._e(),e._v(" "),!e.permissions||e.permissions.c?s("Button",{attrs:{type:"success",shape:"circle",size:"small",icon:"md-add"},on:{click:function(t){e.openSlidePanel=!0,e.editMode=!1}}},[e._v("\n                "+e._s(e.lang._add)+"\n            ")]):e._e()],1):e._e(),e._v(" "),e.withoutHeader?s("portal",{attrs:{to:"header-right"}},[s("krudtools",{attrs:{search:e.search,refresh:e.refresh,exportExcel:e.exportExcel,importExcel:e.importExcel,exportLoading:e.exportLoading,print:e.print,save:e.save,isPrint:e.isPrint,isExcel:e.isExcel,isExcelUpload:e.isExcelUpload,isRefresh:e.isRefresh,isSave:e.isSave}})],1):e._e(),e._v(" "),e.withoutHeader?e._e():s("div",{staticClass:"crud-page-header"},[e.hasNavSlot?s("div",{staticClass:"crud-page-header-left"},[e._t("nav"),e._v(" "),!e.permissions||e.permissions.c?s("span",{staticClass:"divider"}):e._e(),e._v(" "),!e.permissions||e.permissions.c?s("Button",{attrs:{type:"success",shape:"circle",size:"small",icon:"md-add"},on:{click:function(t){e.openSlidePanel=!0,e.editMode=!1}}},[e._v("\n                    "+e._s(e.lang._add)+"}\n                ")]):e._e()],2):s("div",{class:"crud-page-header-left "+(e.hasNavSlot?"":"no-nav")},[null!=e.$props.title?s("h3",[e._v(e._s(e.$props.title.replace("-"," ")))]):e._e(),e._v(" "),!e.permissions||e.permissions.c?s("span",{staticClass:"divider"}):e._e(),e._v(" "),!e.permissions||e.permissions.c?s("Button",{attrs:{type:"success",shape:"circle",size:"small",icon:"md-add"},on:{click:function(t){e.openSlidePanel=!0,e.editMode=!1}}},[e._v("\n                    "+e._s(e.lang._add)+"\n                ")]):e._e()],1),e._v(" "),s("div",{staticClass:"crud-page-header-right"},[s("div",{staticClass:"tooloptions"},[e._t("tooloptions")],2),e._v(" "),s("krudtools",{attrs:{search:e.search,refresh:e.refresh,exportExcel:e.exportExcel,exportLoading:e.exportLoading,print:e.print,save:e.save,isPrint:e.isPrint,isExcel:e.isExcel,isRefresh:e.isRefresh,isSave:e.isSave}}),e._v(" "),e._t("right")],2)]),e._v(" "),s("div",{staticClass:"crud-page-body"},[e.hasVNavSlot?s("div",{staticClass:"v-nav"},[e._t("v-nav")],2):e._e(),e._v(" "),s("div",{staticClass:"dg-flex"},[!e.permissions||e.permissions.r?s("datagrid",{ref:"grid",attrs:{schemaID:e.grid,paginate:50,fnClone:e.clone,fnEdit:e.edit,fnQuickEdit:e.quickEdit,fnView:e.view,actions:e.$props.actions,dblClick:e.$props.dbClickAction,onRowSelect:e.$props.onRowSelect,permissions:e.permissions,page_id:e.page_id,custom_condition:e.$props.custom_condition?e.$props.custom_condition:null,user_condition:e.user_condition?e.user_condition.gridCondition:null}}):e._e()],1)]),e._v(" "),s("slide-panel",{attrs:{widths:[e.form_width?e.form_width:"600px"],closeByBtn:!0,withCrudLog:e.withCrudLog},on:{close:function(t){e.openSlidePanel=!1}},model:{value:e.openSlidePanel,callback:function(t){e.openSlidePanel=t},expression:"openSlidePanel"}},[s("div",{class:e.withCrudLog&&e.editMode?"with-crud-log":""},[s("dataform",{ref:"form",attrs:{schemaID:e.form,editMode:e.editMode,onSuccess:e.onSuccess,onReady:e.onReady,do_render:e.openSlidePanel,permissions:e.permissions,page_id:e.page_id,user_condition:e.user_condition?e.user_condition.formCondition:null,onError:e.onError}})],1)])],1)])}),[],!1,null,null,null).exports},51900:(e,t,s)=>{"use strict";function i(e,t,s,i,r,o,a,n){var l,d="function"==typeof e?e.options:e;if(t&&(d.render=t,d.staticRenderFns=s,d._compiled=!0),i&&(d.functional=!0),o&&(d._scopeId="data-v-"+o),a?(l=function(e){(e=e||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(e=__VUE_SSR_CONTEXT__),r&&r.call(this,e),e&&e._registeredComponents&&e._registeredComponents.add(a)},d._ssrRegister=l):r&&(l=n?function(){r.call(this,(d.functional?this.parent:this).$root.$options.shadowRoot)}:r),l)if(d.functional){d._injectStyles=l;var c=d.render;d.render=function(e,t){return l.call(t),c(e,t)}}else{var p=d.beforeCreate;d.beforeCreate=p?[].concat(p,l):[l]}return{exports:e,options:d}}s.d(t,{Z:()=>i})}},e=>{e.O(0,[8204],(()=>{return t=6042,e(e.s=t);var t}));e.O()}]);