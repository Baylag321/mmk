{"version":3,"file":"assets/lambda/js/chunks/role-index.312c16915ca358dd.js","mappings":"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","sources":["webpack:///./node_modules/@lambda-platform/lambda-builder/src/pages/role/views/MenuItem/MenuItem.vue?5dc0","webpack:///node_modules/@lambda-platform/lambda-builder/src/pages/role/views/MenuItem/MenuItem.vue","webpack:///./node_modules/@lambda-platform/lambda-builder/src/pages/role/views/MenuItem/MenuItem.vue?2b75","webpack:///./node_modules/@lambda-platform/lambda-builder/src/pages/role/views/MenuItem/MenuItem.vue","webpack:///./node_modules/@lambda-platform/lambda-builder/src/pages/role/views/index.vue?252d","webpack:///node_modules/@lambda-platform/lambda-builder/src/pages/role/views/index.vue","webpack:///./node_modules/@lambda-platform/lambda-builder/src/pages/role/views/index.vue?5866","webpack:///./node_modules/@lambda-platform/lambda-builder/src/pages/role/views/index.vue"],"sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('li',{staticClass:\"menu-tree-item\",attrs:{\"data-link_to\":_vm.data.link_to,\"data-url\":_vm.data.url,\"data-title\":_vm.data.title,\"data-icon\":_vm.data.icon,\"data-c\":_vm.data.c,\"data-r\":_vm.data.r,\"data-u\":_vm.data.u,\"data-d\":_vm.data.d}},[_c('div',{staticClass:\"clickable sortDiv\"},[_c('div',{staticClass:\"menu-icon\"},[_c('i',{class:_vm.data.icon})]),_vm._v(\" \"),_c('div',{staticClass:\"menu-title\"},[_c('span',{domProps:{\"innerHTML\":_vm._s(_vm.getTitle(_vm.data))}}),_vm._v(\"\\n\\n            | \"),_c('span',{staticClass:\"link-to\"},[_vm._v(\"\\n            \"+_vm._s(_vm.data.link_to)+\"\\n            \"),(_vm.data.link_to != 'crud'  && _vm.data.link_to != 'noAction')?_c('span',[_vm._v(\"\\n                | \"+_vm._s(_vm.data.url)+\"\\n            \")]):_vm._e()])]),_vm._v(\" \"),_c('div',{staticClass:\"menu-control\"},[_c('span',[_vm._v(\" \")]),_vm._v(\" \"),(_vm.data.link_to == 'crud')?_c('span',[_c('Checkbox',{attrs:{\"disabled\":!_vm.permissions[_vm.data.id].show},model:{value:(_vm.permissions[_vm.data.id].c),callback:function ($$v) {_vm.$set(_vm.permissions[_vm.data.id], \"c\", $$v)},expression:\"permissions[data.id].c\"}},[_vm._v(\"C\")]),_vm._v(\" \"),_c('Checkbox',{attrs:{\"disabled\":!_vm.permissions[_vm.data.id].show},model:{value:(_vm.permissions[_vm.data.id].r),callback:function ($$v) {_vm.$set(_vm.permissions[_vm.data.id], \"r\", $$v)},expression:\"permissions[data.id].r\"}},[_vm._v(\"R\")]),_vm._v(\" \"),_c('Checkbox',{attrs:{\"disabled\":!_vm.permissions[_vm.data.id].show},model:{value:(_vm.permissions[_vm.data.id].u),callback:function ($$v) {_vm.$set(_vm.permissions[_vm.data.id], \"u\", $$v)},expression:\"permissions[data.id].u\"}},[_vm._v(\"U\")]),_vm._v(\" \"),_c('Checkbox',{attrs:{\"disabled\":!_vm.permissions[_vm.data.id].show},model:{value:(_vm.permissions[_vm.data.id].d),callback:function ($$v) {_vm.$set(_vm.permissions[_vm.data.id], \"d\", $$v)},expression:\"permissions[data.id].d\"}},[_vm._v(\"D\")]),_vm._v(\" \"),_c('Button',{attrs:{\"type\":\"text\",\"size\":\"small\",\"icon\":_vm.extend ? 'ios-arrow-down' : 'ios-arrow-forward'},on:{\"click\":_vm.showUserData}})],1):_vm._e(),_vm._v(\" \"),_c('i-switch',{attrs:{\"size\":\"small\"},on:{\"on-change\":function($event){return _vm.changePermissionPre('show', $event, _vm.permissions[_vm.data.id])}},model:{value:(_vm.permissions[_vm.data.id].show),callback:function ($$v) {_vm.$set(_vm.permissions[_vm.data.id], \"show\", $$v)},expression:\"permissions[data.id].show\"}})],1)]),_vm._v(\" \"),(_vm.data.children && _vm.data.children.length >= 1)?_c('ul',{staticClass:\"dd-list\"},_vm._l((_vm.data.children),function(menu_item,index){return _c(_vm.element(),{key:index,tag:\"component\",attrs:{\"menuIndex\":_vm.getIndex(index),\"data\":menu_item,\"cruds\":_vm.cruds,\"permissions\":_vm.permissions}})}),1):_vm._e(),_vm._v(\" \"),(_vm.extend)?_c('div',{staticClass:\"user-data\"},[(_vm.loading)?_c('div',{staticClass:\"loader\"},[_c('div',{staticClass:\"loader-wrapper\"},[_vm._m(0),_vm._v(\" \"),_c('h3',[_vm._v(_vm._s(_vm.lang.please_wait))])])]):_vm._e(),_vm._v(\" \"),(!_vm.loading)?_c('Row',[_c('Col',{attrs:{\"span\":\"12\"}},[_vm._v(\"\\n                Форм | Form (Авах утга) \"),_c('br'),_vm._v(\" \"),_c('div',[_c('Row',[_c('Col',{attrs:{\"span\":\"10\"}},[_c('Select',{attrs:{\"filterable\":\"\",\"placeholder\":_vm.lang.custom_column},model:{value:(_vm.formUser),callback:function ($$v) {_vm.formUser=$$v},expression:\"formUser\"}},_vm._l((_vm.user_fields),function(item){return _c('Option',{key:item,attrs:{\"value\":item}},[_vm._v(_vm._s(item))])}),1)],1),_vm._v(\" \"),_c('Col',{attrs:{\"span\":\"10\"}},[_c('Select',{attrs:{\"filterable\":\"\",\"placeholder\":_vm.lang.judgment_column},model:{value:(_vm.formField),callback:function ($$v) {_vm.formField=$$v},expression:\"formField\"}},_vm._l((_vm.form_fields),function(item){return _c('Option',{key:item,attrs:{\"value\":item}},[_vm._v(_vm._s(item))])}),1)],1),_vm._v(\" \"),_c('Col',{attrs:{\"span\":\"4\"}},[_c('Button',{attrs:{\"type\":\"primary\",\"shape\":\"circle\",\"icon\":\"md-add\"},on:{\"click\":_vm.addFrom}})],1)],1)],1),_vm._v(\" \"),_c('div',_vm._l((_vm.formCondition),function(condition,index){return _c('Row',{key:index},[_c('Col',{attrs:{\"span\":\"10\"}},[_vm._v(\"\\n                           \"+_vm._s(condition.user_field)+\"\\n                       \")]),_vm._v(\" \"),_c('Col',{attrs:{\"span\":\"10\"}},[_vm._v(\"\\n                           \"+_vm._s(condition.form_field)+\"\\n                       \")]),_vm._v(\" \"),_c('Col',{attrs:{\"span\":\"4\"}},[_c('Button',{attrs:{\"type\":\"primary\",\"shape\":\"circle\",\"icon\":\"ios-trash\"},on:{\"click\":function($event){return _vm.deleteFrom(index)}}})],1)],1)}),1)]),_vm._v(\" \"),_c('Col',{attrs:{\"span\":\"12\"}},[_vm._v(\"\\n                \"+_vm._s(_vm.lang.list_grid)+\"\\n                \"),_c('br'),_vm._v(\" \"),_c('div',[_c('Row',[_c('Col',{attrs:{\"span\":\"10\"}},[_c('Select',{attrs:{\"filterable\":\"\",\"placeholder\":_vm.lang.judgment_column},model:{value:(_vm.gridUser),callback:function ($$v) {_vm.gridUser=$$v},expression:\"gridUser\"}},_vm._l((_vm.user_fields),function(item){return _c('Option',{key:item,attrs:{\"value\":item}},[_vm._v(_vm._s(item))])}),1)],1),_vm._v(\" \"),_c('Col',{attrs:{\"span\":\"10\"}},[_c('Select',{attrs:{\"filterable\":\"\",\"placeholder\":_vm.lang.value_column},model:{value:(_vm.gridField),callback:function ($$v) {_vm.gridField=$$v},expression:\"gridField\"}},_vm._l((_vm.grid_fields),function(item){return _c('Option',{key:item,attrs:{\"value\":item}},[_vm._v(_vm._s(item))])}),1)],1),_vm._v(\" \"),_c('Col',{attrs:{\"span\":\"4\"}},[_c('Button',{attrs:{\"type\":\"primary\",\"shape\":\"circle\",\"icon\":\"md-add\"},on:{\"click\":_vm.addGrid}})],1)],1)],1),_vm._v(\" \"),_c('div',_vm._l((_vm.gridCondition),function(condition,index){return _c('Row',{key:index},[_c('Col',{attrs:{\"span\":\"10\"}},[_vm._v(\"\\n                            \"+_vm._s(condition.user_field)+\"\\n                        \")]),_vm._v(\" \"),_c('Col',{attrs:{\"span\":\"10\"}},[_vm._v(\"\\n                            \"+_vm._s(condition.grid_field)+\"\\n                        \")]),_vm._v(\" \"),_c('Col',{attrs:{\"span\":\"4\"}},[_c('Button',{attrs:{\"type\":\"primary\",\"shape\":\"circle\",\"icon\":\"ios-trash\"},on:{\"click\":function($event){return _vm.deleteGrid(index)}}})],1)],1)}),1)])],1):_vm._e(),_vm._v(\" \"),(_vm.permissions[_vm.data.id].u)?_c('Row',[_c('Col',[_c('b',[_vm._v(\"Засах\")]),_vm._v(\" үйлдэл хаагдах нөхцөл\\n\\n                \"),(_vm.grid_fields_full.length >= 1)?_c('query-builder',{attrs:{\"query\":_vm.permissions[_vm.data.id].gridEditConditionSQL,\"fields\":_vm.grid_fields_full},on:{\"change\":_vm.changeFilter,\"changeValueByJS\":_vm.changeFilterJS}}):_vm._e()],1)],1):_vm._e(),_vm._v(\" \"),(_vm.permissions[_vm.data.id].d)?_c('Row',[_c('Col',[_c('b',[_vm._v(\"Устгах\")]),_vm._v(\" үйлдэл хаагдах нөхцөл\\n\\n                \"),(_vm.grid_fields_full.length >= 1)?_c('query-builder',{attrs:{\"query\":_vm.permissions[_vm.data.id].gridDeleteConditionSQL,\"fields\":_vm.grid_fields_full},on:{\"change\":_vm.changeDeleteFilter,\"changeValueByJS\":_vm.changeDeleteFilterJS}}):_vm._e()],1)],1):_vm._e()],1):_vm._e()])}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"lds-roller\"},[_c('div'),_vm._v(\" \"),_c('div'),_vm._v(\" \"),_c('div'),_vm._v(\" \"),_c('div'),_vm._v(\" \"),_c('div'),_vm._v(\" \"),_c('div'),_vm._v(\" \"),_c('div'),_vm._v(\" \"),_c('div')])}]\n\nexport { render, staticRenderFns }","<template>\n    <li :data-link_to=\"data.link_to\" :data-url=\"data.url\" :data-title=\"data.title\" :data-icon=\"data.icon\"\n        :data-c=\"data.c\" :data-r=\"data.r\" :data-u=\"data.u\" :data-d=\"data.d\"\n\n        class=\"menu-tree-item\"\n    >\n\n        <div class=\"clickable sortDiv\">\n            <div class=\"menu-icon\">\n                <i :class=\"data.icon\"></i>\n            </div>\n\n            <div class=\"menu-title\">\n                <span v-html=\"getTitle(data)\"></span>\n\n                | <span class=\"link-to\">\n                {{data.link_to}}\n                <span v-if=\"data.link_to != 'crud'  && data.link_to != 'noAction'\">\n                    | {{data.url}}\n                </span>\n            </span>\n            </div>\n\n            <div class=\"menu-control\">\n                <span>&nbsp;</span>\n                <span v-if=\"data.link_to == 'crud'\">\n                    <Checkbox :disabled=\"!permissions[data.id].show\" v-model=\"permissions[data.id].c\">C</Checkbox>\n                    <Checkbox :disabled=\"!permissions[data.id].show\" v-model=\"permissions[data.id].r\">R</Checkbox>\n                    <Checkbox :disabled=\"!permissions[data.id].show\" v-model=\"permissions[data.id].u\">U</Checkbox>\n                    <Checkbox :disabled=\"!permissions[data.id].show\" v-model=\"permissions[data.id].d\">D</Checkbox>\n                    <Button type=\"text\" size=\"small\" @click=\"showUserData\"\n                               :icon=\"extend ? 'ios-arrow-down' : 'ios-arrow-forward'\"></Button>\n                </span>\n                <i-switch v-model=\"permissions[data.id].show\" @on-change=\"changePermissionPre('show', $event, permissions[data.id])\" size=\"small\"/>\n            </div>\n        </div>\n        <ul class=\"dd-list\" v-if=\"data.children && data.children.length >= 1\">\n            <component v-for=\"(menu_item, index) in data.children\" :is=\"element()\" :key=\"index\"\n                       :menuIndex=\"getIndex(index)\"\n                       :data=\"menu_item\"\n                       :cruds=\"cruds\"\n                       :permissions=\"permissions\"\n            ></component>\n        </ul>\n        <div v-if=\"extend\" class=\"user-data\">\n            <div v-if=\"loading\" class=\"loader\">\n                <div class=\"loader-wrapper\">\n                    <div class=\"lds-roller\">\n                        <div></div>\n                        <div></div>\n                        <div></div>\n                        <div></div>\n                        <div></div>\n                        <div></div>\n                        <div></div>\n                        <div></div>\n                    </div>\n                    <h3>{{ lang.please_wait }}</h3>\n                </div>\n            </div>\n            <Row v-if=\"!loading\">\n                <Col span=\"12\">\n                    Форм | Form (Авах утга) <br>\n                    <div>\n                        <Row>\n                            <Col span=\"10\">\n                                <Select v-model=\"formUser\" filterable :placeholder=\"lang.custom_column\">\n                                    <Option v-for=\"item in user_fields\" :value=\"item\" :key=\"item\">{{ item }}</Option>\n                                </Select>\n                            </Col>\n                            <Col span=\"10\">\n                                <Select v-model=\"formField\" filterable :placeholder=\"lang.judgment_column\">\n                                    <Option v-for=\"item in form_fields\" :value=\"item\" :key=\"item\">{{ item }}</Option>\n                                </Select>\n                            </Col>\n                            <Col span=\"4\">\n                                <Button type=\"primary\" shape=\"circle\" icon=\"md-add\" @click=\"addFrom\"></Button>\n                            </Col>\n                        </Row>\n                    </div>\n\n                   <div>\n                       <Row v-for=\"(condition, index) in formCondition\" :key=\"index\">\n                           <Col span=\"10\">\n                               {{condition.user_field}}\n                           </Col>\n                           <Col span=\"10\">\n                               {{condition.form_field}}\n                           </Col>\n                           <Col span=\"4\">\n                               <Button type=\"primary\" shape=\"circle\" icon=\"ios-trash\" @click=\"deleteFrom(index)\"></Button>\n                           </Col>\n                       </Row>\n                   </div>\n\n                </Col>\n                <Col span=\"12\">\n                    {{ lang.list_grid }}\n                    <br>\n                   <div>\n                       <Row>\n                           <Col span=\"10\">\n                               <Select v-model=\"gridUser\" filterable :placeholder=\"lang.judgment_column\">\n                                   <Option v-for=\"item in user_fields\" :value=\"item\" :key=\"item\">{{ item }}</Option>\n                               </Select>\n                           </Col>\n                           <Col span=\"10\">\n                               <Select v-model=\"gridField\" filterable :placeholder=\"lang.value_column\">\n                                   <Option v-for=\"item in grid_fields\" :value=\"item\" :key=\"item\">{{ item }}</Option>\n                               </Select>\n                           </Col>\n                           <Col span=\"4\">\n                               <Button type=\"primary\" shape=\"circle\" icon=\"md-add\" @click=\"addGrid\"></Button>\n                           </Col>\n                       </Row>\n                   </div>\n\n                    <div>\n                        <Row v-for=\"(condition, index) in gridCondition\" :key=\"index\">\n                            <Col span=\"10\">\n                                {{condition.user_field}}\n                            </Col>\n                            <Col span=\"10\">\n                                {{condition.grid_field}}\n                            </Col>\n                            <Col span=\"4\">\n                                <Button type=\"primary\" shape=\"circle\" icon=\"ios-trash\" @click=\"deleteGrid(index)\"></Button>\n                            </Col>\n                        </Row>\n                    </div>\n\n                </Col>\n            </Row>\n            <Row v-if=\"permissions[data.id].u\">\n                <Col>\n                    <b>Засах</b> үйлдэл хаагдах нөхцөл\n\n                    <query-builder @change=\"changeFilter\" @changeValueByJS=\"changeFilterJS\" v-if=\"grid_fields_full.length >= 1\"\n                                   :query=\"permissions[data.id].gridEditConditionSQL\" :fields=\"grid_fields_full\"></query-builder>\n                </Col>\n            </Row>\n            <Row v-if=\"permissions[data.id].d\">\n                <Col>\n                    <b>Устгах</b> үйлдэл хаагдах нөхцөл\n\n                    <query-builder @change=\"changeDeleteFilter\" @changeValueByJS=\"changeDeleteFilterJS\" v-if=\"grid_fields_full.length >= 1\"\n                                   :query=\"permissions[data.id].gridDeleteConditionSQL\" :fields=\"grid_fields_full\"></query-builder>\n                </Col>\n            </Row>\n\n        </div>\n    </li>\n</template>\n\n<script>\nimport {loadLanguageAsync} from \"../../../../locale/index\";\n    export default {\n        props: [\"data\", \"menuIndex\", \"cruds\", \"permissions\"],\n        components: {},\n        data() {\n            return {\n                loading: true,\n                extend: false,\n                formUser: null,\n                gridUser: null,\n                formField: null,\n                gridField: null,\n                user_fields: window.init.user_fields ? window.init.user_fields : [],\n                grid_fields: [],\n                grid_fields_full: [],\n                form_fields: [],\n                gridCondition: [],\n                formCondition: [],\n\n            }\n        },\n        methods: {\n            changeFilter(query) {\n                this.permissions[this.data.id].gridEditConditionSQL = query;\n            },\n\n            changeFilterJS(query) {\n                this.permissions[this.data.id].gridEditConditionJS = query;\n            },\n\n            changeDeleteFilter(query) {\n               this.permissions[this.data.id].gridDeleteConditionSQL = query;\n            },\n\n            changeDeleteFilterJS(query) {\n               this.permissions[this.data.id].gridDeleteConditionJS = query;\n            },\n\n            switchLanguage(val) {\n                this.selectedLang = val;\n                loadLanguageAsync(val);\n            },\n            addFrom() {\n                if (this.formUser && this.formField) {\n                    this.formCondition.push({\n                        user_field: this.formUser,\n                        form_field: this.formField,\n                    });\n                    this.formField = null;\n                    this.formUser = null;\n                    this.updateValue();\n                } else {\n                    this.$Message.error('Харгалзах багнуудыг сонгоно уу');\n                }\n            },\n            deleteFrom(index) {\n\n\n                this.formCondition.splice(index, 1);\n                this.updateValue();\n            },\n            deleteGrid(index) {\n\n                this.gridCondition.splice(index, 1);\n                this.updateValue();\n            },\n            addGrid() {\n                if (this.gridUser && this.gridField) {\n                    this.gridCondition.push({\n                        user_field: this.gridUser,\n                        grid_field: this.gridField,\n                    });\n                    this.gridField = null;\n                    this.gridUser = null;\n                    this.updateValue();\n                } else {\n                    this.$Message.error('Харгалзах багнуудыг сонгоно уу');\n                }\n            },\n            updateValue() {\n                this.permissions[this.data.id].formCondition = this.formCondition;\n                this.permissions[this.data.id].gridCondition = this.gridCondition;\n\n            },\n            showUserData() {\n                if (this.extend) {\n                    this.extend = false;\n                } else {\n                    this.extend = true;\n                    this.loading = true;\n\n                    axios.get(window.init.project ? '/lambda/puzzle/get-krud-fields-micro/' + this.data.url : '/lambda/puzzle/get-krud-fields/' + this.data.url).then(res => {\n                        this.loading = false;\n                        if (res.status) {\n                            if(this.user_fields.length == 0){\n                                this.user_fields = res.data.user_fields;\n                            }\n\n                            this.grid_fields = res.data.grid_fields;\n                            this.form_fields = res.data.form_fields;\n\n                            if (this.permissions[this.data.id].formCondition) {\n                                this.formCondition = this.permissions[this.data.id].formCondition;\n                            }\n                            if (this.permissions[this.data.id].gridCondition) {\n                                this.gridCondition = this.permissions[this.data.id].gridCondition;\n                            }\n                            if(res.data.grid_fields_full){\n                                this.grid_fields_full = res.data.grid_fields_full;\n                            }\n\n                        }\n                    }).catch(res => {\n                        this.loading = false;\n                        this.$Message.error('Уучлаарай алдаа гарлаа');\n                    })\n                }\n            },\n            getIndex(index) {\n                let pre_myIndex = [index];\n\n                let myIndex = this.menuIndex.concat(pre_myIndex);\n\n                return myIndex;\n            },\n            element() {\n                return require(`./MenuItem`).default;\n            },\n            getTitle(item) {\n\n                if (item.link_to == 'crud') {\n                    let crudIndex = this.cruds.findIndex(crud => crud.id == item.url);\n                    if (crudIndex >= 0)\n                        return this.cruds[crudIndex].title\n                    else\n                        return ''\n                } else\n                    return item.title;\n            },\n            changePermissionPre(type, value, permissions) {\n\n                if(value === true){\n                    permissions.c = true;\n                    permissions.r = true;\n                    permissions.u = true;\n                    permissions.d = true;\n                } else {\n                    permissions.c = false;\n                    permissions.r = false;\n                    permissions.u = false;\n                    permissions.d = false;\n                }\n                permissions.gridEditConditionSQL = \"\";\n                permissions.gridDeleteConditionSQL = \"\";\n                permissions. gridDeleteConditionJS = \"\";\n                permissions.gridEditConditionJS = \"\";\n\n\n                this.$emit('changePermission', type, this.data.id, value);\n            },\n            changePermission(type, menu_item_id, value) {\n                this.$emit('changePermission', type, menu_item_id, value);\n            }\n        },\n        computed: {\n            lang() {\n                const labels = [ 'please_wait', 'list_grid', 'custom_column', 'value_column'];\n                return labels.reduce((obj, key, i) => {\n                    obj[key] = this.$t('puzzle.' + labels[i]);\n                    return obj;\n                }, {});\n            },\n\n        }\n    };\n</script>\n","import mod from \"-!../../../../../../../vue-loader/lib/index.js??vue-loader-options!./MenuItem.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../../vue-loader/lib/index.js??vue-loader-options!./MenuItem.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./MenuItem.vue?vue&type=template&id=4bcd4df8&\"\nimport script from \"./MenuItem.vue?vue&type=script&lang=js&\"\nexport * from \"./MenuItem.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../../vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('section',{staticClass:\"page\"},[_c('paper-header',{staticClass:\"mini\"},[_c('user-control',{attrs:{\"slot\":\"right\"},slot:\"right\"}),_vm._v(\" \"),_c('div',{attrs:{\"slot\":\"nav\"},slot:\"nav\"},[_c('ul',[_c('li',[_c('router-link',{attrs:{\"to\":\"/role\"}},[_c('i',{staticClass:\"ti-user\"}),_vm._v(\" \"),_c('span',[_vm._v(_vm._s(_vm.lang.manage_access_rights))])])],1)])])],1),_vm._v(\" \"),_c('section',{staticClass:\"paper-page-body\"},[_c('div',{staticClass:\"role-control\"},[(_vm.loading)?_c('div',{staticClass:\"loader\"},[_c('div',{staticClass:\"loader-wrapper\"},[_vm._m(0),_vm._v(\" \"),_c('h3',[_vm._v(_vm._s(_vm.lang.please_wait))])])]):_vm._e(),_vm._v(\" \"),_c('div',{staticClass:\"role-list\"},[_c('Button',{attrs:{\"icon\":\"md-add\",\"type\":\"success\",\"long\":\"\"},on:{\"click\":_vm.addRole}},[_vm._v(_vm._s(_vm.lang.add))]),_vm._v(\" \"),_c('ul',_vm._l((_vm.roles),function(role,index){return _c('li',{key:index,class:index == _vm.selectedRole ? 'active' : ''},[_c('span',{staticClass:\"role_name\",on:{\"click\":function($event){return _vm.selectRole(index)}}},[_vm._v(\"\\n                            \"+_vm._s(role.display_name)+\"\\n                        \")]),_vm._v(\" \"),_c('Button',{staticClass:\"edit-btn\",attrs:{\"shape\":\"circle\",\"icon\":\"md-create\",\"size\":\"small\"},on:{\"click\":function($event){return _vm.editRole(role)}}}),_vm._v(\" \"),_c('Button',{attrs:{\"shape\":\"circle\",\"icon\":\"ios-trash\",\"size\":\"small\"},on:{\"click\":function($event){return _vm.deleteRole(role.id)}}})],1)}),0)],1),_vm._v(\" \"),_c('div',{staticClass:\"role-config\"},[(_vm.selectedRole != null)?_c('div',{attrs:{\"id\":\"menu-tree\"}},[_c('Select',{staticStyle:{\"width\":\"300px\"},attrs:{\"clearable\":\"\",\"placeholder\":_vm.lang.menuSelection},on:{\"on-change\":_vm.selectMenu},model:{value:(_vm.menuIndex),callback:function ($$v) {_vm.menuIndex=$$v},expression:\"menuIndex\"}},_vm._l((_vm.menus),function(item){return _c('Option',{key:item.menuIndex,attrs:{\"value\":item.menuIndex}},[_vm._v(_vm._s(item.title)+\"\\n                        \")])}),1),_vm._v(\" \"),(Object.keys(_vm.permissions).length >=1)?_c('Select',{staticStyle:{\"width\":\"200px\"},attrs:{\"clearable\":\"\",\"placeholder\":_vm.lang.default_menu},model:{value:(_vm.roles[_vm.selectedRole].permissions.default_menu),callback:function ($$v) {_vm.$set(_vm.roles[_vm.selectedRole].permissions, \"default_menu\", $$v)},expression:\"roles[selectedRole].permissions.default_menu\"}},_vm._l((Object.keys(_vm.permissions)),function(item){return (_vm.permissions[item].show)?_c('Option',{key:_vm.permissions[item].menu_id,attrs:{\"value\":_vm.getMenuUrl(_vm.permissions[item].menu_id)}},[_vm._v(_vm._s(_vm.permissions[item].title)+\"\\n                        \")]):_vm._e()}),1):_vm._e(),_vm._v(\" \"),_c('Button',{attrs:{\"icon\":\"android-done\",\"type\":\"success\"},on:{\"click\":_vm.saveRole}},[_vm._v(_vm._s(_vm.lang._save))]),_vm._v(\" \"),(_vm.selectedMenu != null)?_c('ul',{staticClass:\"menuTree listsClass\"},_vm._l((_vm.selectedMenu.items),function(menu_item,index){return _c('MenuItem',{key:index,attrs:{\"data\":menu_item,\"menuIndex\":[index],\"cruds\":_vm.cruds,\"permissions\":_vm.permissions}})}),1):_vm._e(),_vm._v(\" \"),_c('div',{staticClass:\"advanced\"},[_c('h4',[_vm._v(_vm._s(_vm.lang.optional))]),_vm._v(\" \"),_c('Checkbox',{attrs:{\"size\":\"large\"},model:{value:(_vm.roles[_vm.selectedRole].permissions.extra.datasource),callback:function ($$v) {_vm.$set(_vm.roles[_vm.selectedRole].permissions.extra, \"datasource\", $$v)},expression:\"roles[selectedRole].permissions.extra.datasource\"}},[_c('span',[_vm._v(_vm._s(_vm.lang.data_source))])]),_vm._v(\" \"),_c('Checkbox',{attrs:{\"size\":\"large\"},model:{value:(_vm.roles[_vm.selectedRole].permissions.extra.moqup),callback:function ($$v) {_vm.$set(_vm.roles[_vm.selectedRole].permissions.extra, \"moqup\", $$v)},expression:\"roles[selectedRole].permissions.extra.moqup\"}},[_c('span',[_vm._v(_vm._s(_vm.lang._moqup))])]),_vm._v(\" \"),_c('Checkbox',{attrs:{\"size\":\"large\"},model:{value:(_vm.roles[_vm.selectedRole].permissions.extra.chart),callback:function ($$v) {_vm.$set(_vm.roles[_vm.selectedRole].permissions.extra, \"chart\", $$v)},expression:\"roles[selectedRole].permissions.extra.chart\"}},[_c('span',[_vm._v(_vm._s(_vm.lang._chart))])]),_vm._v(\" \"),_c('Checkbox',{attrs:{\"size\":\"large\"},model:{value:(_vm.roles[_vm.selectedRole].permissions.extra.userlist),callback:function ($$v) {_vm.$set(_vm.roles[_vm.selectedRole].permissions.extra, \"userlist\", $$v)},expression:\"roles[selectedRole].permissions.extra.userlist\"}},[_c('span',[_vm._v(_vm._s(_vm.lang.user_list)+\"т\")])]),_vm._v(\" \"),_c('Checkbox',{attrs:{\"size\":\"large\"},model:{value:(_vm.roles[_vm.selectedRole].permissions.extra.excelupload),callback:function ($$v) {_vm.$set(_vm.roles[_vm.selectedRole].permissions.extra, \"excelupload\", $$v)},expression:\"roles[selectedRole].permissions.extra.excelupload\"}},[_c('span',[_vm._v(_vm._s(_vm.lang._import))])]),_vm._v(\" \"),_c('Checkbox',{attrs:{\"size\":\"large\"},model:{value:(_vm.roles[_vm.selectedRole].permissions.extra.hascustomcreatebtn),callback:function ($$v) {_vm.$set(_vm.roles[_vm.selectedRole].permissions.extra, \"hascustomcreatebtn\", $$v)},expression:\"roles[selectedRole].permissions.extra.hascustomcreatebtn\"}},[_c('span',[_vm._v(_vm._s(_vm.lang.register))])]),_vm._v(\" \"),_c('Checkbox',{attrs:{\"size\":\"large\"},model:{value:(_vm.roles[_vm.selectedRole].permissions.extra.approve),callback:function ($$v) {_vm.$set(_vm.roles[_vm.selectedRole].permissions.extra, \"approve\", $$v)},expression:\"roles[selectedRole].permissions.extra.approve\"}},[_c('span',[_vm._v(_vm._s(_vm.lang._confirm))])])],1)],1):_vm._e(),_vm._v(\" \"),(_vm.selectedRole === null)?_c('Alert',{attrs:{\"type\":\"info\"}},[_vm._v(\"\\n                    \"+_vm._s(_vm.lang.please_select_role)+\"\\n                \")]):_vm._e(),_vm._v(\" \"),_c('Modal',{attrs:{\"title\":_vm.lang.duties},model:{value:(_vm.showRoleForm),callback:function ($$v) {_vm.showRoleForm=$$v},expression:\"showRoleForm\"}},[_c('Form',{ref:\"roleForm\",attrs:{\"model\":_vm.roleForm,\"rules\":_vm.ruleRole}},[_c('FormItem',{attrs:{\"prop\":\"name\"}},[_c('Input',{attrs:{\"type\":\"text\",\"placeholder\":_vm.lang._name},model:{value:(_vm.roleForm.name),callback:function ($$v) {_vm.$set(_vm.roleForm, \"name\", $$v)},expression:\"roleForm.name\"}})],1),_vm._v(\" \"),_c('FormItem',{attrs:{\"prop\":\"display_name\"}},[_c('Input',{attrs:{\"type\":\"text\",\"placeholder\":_vm.lang.appearance_name},model:{value:(_vm.roleForm.display_name),callback:function ($$v) {_vm.$set(_vm.roleForm, \"display_name\", $$v)},expression:\"roleForm.display_name\"}})],1),_vm._v(\" \"),_c('FormItem',{attrs:{\"prop\":\"description\"}},[_c('Input',{attrs:{\"type\":\"textarea\",\"placeholder\":_vm.lang.note},model:{value:(_vm.roleForm.description),callback:function ($$v) {_vm.$set(_vm.roleForm, \"description\", $$v)},expression:\"roleForm.description\"}})],1),_vm._v(\" \"),_c('FormItem',[_c('Button',{attrs:{\"type\":\"primary\",\"loading\":_vm.loadingForm},on:{\"click\":_vm.saveRoleForm}},[_vm._v(_vm._s(_vm.lang._save)+\"\\n                            \")]),_vm._v(\" \"),_c('Button',{staticStyle:{\"margin-left\":\"8px\"},attrs:{\"type\":\"info\"},on:{\"click\":_vm.closeRole}},[_vm._v(_vm._s(_vm.lang.cancel)+\"\\n                            \")])],1)],1),_vm._v(\" \"),_c('footer',{attrs:{\"slot\":\"footer\"},slot:\"footer\"})],1)],1)])])],1)}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"lds-roller\"},[_c('div'),_vm._v(\" \"),_c('div'),_vm._v(\" \"),_c('div'),_vm._v(\" \"),_c('div'),_vm._v(\" \"),_c('div'),_vm._v(\" \"),_c('div'),_vm._v(\" \"),_c('div'),_vm._v(\" \"),_c('div')])}]\n\nexport { render, staticRenderFns }","\n<template>\n    <section class=\"page\">\n        <paper-header class=\"mini\">\n            <user-control slot=\"right\"></user-control>\n            <div slot=\"nav\">\n                <ul>\n                    <li>\n                        <router-link to=\"/role\">\n                            <i class=\"ti-user\"></i>\n                            <span>{{ lang.manage_access_rights }}</span>\n                        </router-link>\n                    </li>\n                </ul>\n            </div>\n        </paper-header>\n        <section class=\"paper-page-body\">\n            <div class=\"role-control\">\n                <div v-if=\"loading\" class=\"loader\">\n                    <div class=\"loader-wrapper\">\n                        <div class=\"lds-roller\">\n                            <div></div>\n                            <div></div>\n                            <div></div>\n                            <div></div>\n                            <div></div>\n                            <div></div>\n                            <div></div>\n                            <div></div>\n                        </div>\n                        <h3>{{ lang.please_wait }}</h3>\n                    </div>\n                </div>\n                <div class=\"role-list\">\n                    <Button icon=\"md-add\" type=\"success\" long @click=\"addRole\">{{ lang.add }}</Button>\n                    <ul>\n                        <li v-for=\"(role, index) in roles\" :key=\"index\" :class=\"index == selectedRole ? 'active' : ''\">\n                            <span class=\"role_name\" @click=\"selectRole(index)\">\n                                {{ role.display_name }}\n                            </span>\n\n                            <Button shape=\"circle\" icon=\"md-create\" size=\"small\" class=\"edit-btn\"\n                                    @click=\"editRole(role)\"></Button>\n                            <Button shape=\"circle\" icon=\"ios-trash\" size=\"small\" @click=\"deleteRole(role.id)\"></Button>\n                        </li>\n                    </ul>\n                </div>\n\n                <div class=\"role-config\">\n                    <div id=\"menu-tree\" v-if=\"selectedRole != null\">\n                        <Select v-model=\"menuIndex\" clearable :placeholder=\"lang.menuSelection\" style=\"width: 300px\"\n                                @on-change=\"selectMenu\">\n                            <Option v-for=\"item in menus\" :value=\"item.menuIndex\" :key=\"item.menuIndex\">{{ item.title }}\n                            </Option>\n                        </Select>\n                        <Select v-if=\"Object.keys(permissions).length >=1\"\n                                v-model=\"roles[selectedRole].permissions.default_menu\" clearable\n                                :placeholder=\"lang.default_menu\"\n                                style=\"width: 200px\">\n                            <Option v-for=\"item in Object.keys(permissions)\"\n                                    :value=\"getMenuUrl(permissions[item].menu_id)\"\n                                    :key=\"permissions[item].menu_id\" v-if=\"permissions[item].show\">{{\n                                    permissions[item].title\n                                }}\n                            </Option>\n                        </Select>\n\n                        <Button icon=\"android-done\" type=\"success\" @click=\"saveRole\">{{ lang._save }}</Button>\n\n                        <ul class=\"menuTree listsClass\" v-if=\"selectedMenu != null\">\n                            <MenuItem\n                                v-for=\"(menu_item, index) in selectedMenu.items\"\n                                :key=\"index\"\n                                :data=\"menu_item\"\n                                :menuIndex=\"[index]\"\n                                :cruds=\"cruds\"\n                                :permissions=\"permissions\" >\n                            </MenuItem>\n                        </ul>\n\n                        <div class=\"advanced\">\n                            <h4>{{ lang.optional }}</h4>\n                            <Checkbox size=\"large\" v-model=\"roles[selectedRole].permissions.extra.datasource\">\n                                <span>{{ lang.data_source }}</span>\n                            </Checkbox>\n\n                            <Checkbox size=\"large\" v-model=\"roles[selectedRole].permissions.extra.moqup\">\n                                <span>{{ lang._moqup }}</span>\n                            </Checkbox>\n\n                            <Checkbox size=\"large\" v-model=\"roles[selectedRole].permissions.extra.chart\">\n                                <span>{{ lang._chart }}</span>\n                            </Checkbox>\n\n                            <Checkbox size=\"large\" v-model=\"roles[selectedRole].permissions.extra.userlist\">\n                                <span>{{ lang.user_list }}т</span>\n                            </Checkbox>\n\n                            <Checkbox size=\"large\" v-model=\"roles[selectedRole].permissions.extra.excelupload\">\n                                <span>{{ lang._import }}</span>\n                            </Checkbox>\n\n                            <Checkbox size=\"large\" v-model=\"roles[selectedRole].permissions.extra.hascustomcreatebtn\">\n                                <span>{{ lang.register }}</span>\n                            </Checkbox>\n\n                            <Checkbox size=\"large\" v-model=\"roles[selectedRole].permissions.extra.approve\">\n                                <span>{{ lang._confirm }}</span>\n                            </Checkbox>\n                        </div>\n\n                    </div>\n                    <Alert type=\"info\" v-if=\"selectedRole === null\">\n                        {{ lang.please_select_role }}\n                    </Alert>\n\n                    <Modal v-model=\"showRoleForm\" :title=\"lang.duties\">\n                        <Form ref=\"roleForm\" :model=\"roleForm\" :rules=\"ruleRole\">\n                            <FormItem prop=\"name\">\n                                <Input type=\"text\" v-model=\"roleForm.name\" :placeholder=\"lang._name\"/>\n\n                            </FormItem>\n                            <FormItem prop=\"display_name\">\n                                <Input type=\"text\" v-model=\"roleForm.display_name\" :placeholder=\"lang.appearance_name\"/>\n                            </FormItem>\n                            <FormItem prop=\"description\">\n                                <Input type=\"textarea\" v-model=\"roleForm.description\" :placeholder=\"lang.note\"/>\n                            </FormItem>\n                            <FormItem>\n                                <Button type=\"primary\" :loading=\"loadingForm\" @click=\"saveRoleForm\">{{\n                                        lang._save\n                                    }}\n                                </Button>\n                                <Button type=\"info\" style=\"margin-left: 8px\" @click=\"closeRole\">{{\n                                        lang.cancel\n                                    }}\n                                </Button>\n                            </FormItem>\n                        </Form>\n                        <footer slot=\"footer\"></footer>\n                    </Modal>\n\n                </div>\n            </div>\n        </section>\n    </section>\n</template>\n\n<script>\nimport MenuItem from './MenuItem/MenuItem.vue'\nimport {loadLanguageAsync} from \"../../../locale/index\";\n\nexport default {\n    components: {\n        MenuItem\n    },\n    name: \"roles\",\n    data() {\n        return {\n            roles: [],\n            menus: [],\n            cruds: [],\n            selectedMenu: null,\n            menuIndex: null,\n            selectedRole: null,\n            loading: true,\n            showRoleForm: false,\n            loadingForm: false,\n            roleForm: {\n                name: '',\n                display_name: '',\n                description: '',\n            },\n            extra: {\n                datasourcce: false,\n                moqup: false,\n                chart: false,\n                userlist: false,\n                excelupload: false,\n                approve: false,\n                hascustomcreatebtn: false,\n            },\n            editID: null,\n            ruleRole: {\n                name: [\n                    {required: true, message: 'Нэр оруулна уу', trigger: 'blur'}\n                ],\n                display_name: [\n                    {required: true, message: 'Харагдах нэр оруулна уу', trigger: 'blur'}\n                ],\n\n            }\n\n        };\n    },\n    methods: {\n        beforeMount() {\n            if (this.selectedLang != \"mn\") {\n                loadLanguageAsync(this.selectedLang);\n            }\n        },\n\n        switchLanguage(val) {\n            this.selectedLang = val;\n            loadLanguageAsync(val);\n        },\n        getUrlByMenu(menu, parentID, subParentID){\n\n            if(menu){\n                if(menu.link_to == \"router-link\"){\n\n                    return \"#\"+menu.url\n                } else {\n                    if(parentID && subParentID){\n                        return  \"#/p/\" + parentID + \"/\" + subParentID +\"/\" + menu.id;\n                    } else if(parentID && !subParentID){\n                        return  \"#/p/\" + parentID + \"/\" + menu.id;\n                    } else {\n                        return  \"#/p/\" + menu.id;\n                    }\n\n                }\n            }\n\n        },\n        getMenuUrl(menu_id) {\n            let url = \"#/p/\" + menu_id;\n\n            if (this.selectedMenu) {\n\n                let menu_index = this.selectedMenu.items.findIndex(menu => menu.id == menu_id);\n\n                if (menu_index >= 0) {\n                    url = this.getUrlByMenu(this.selectedMenu.items[menu_index], undefined, undefined)\n                } else {\n                    this.selectedMenu.items.forEach(menu => {\n\n                        let sub_menu_index = menu.children.findIndex(sub_menu => sub_menu.id == menu_id);\n\n                        if (sub_menu_index >= 0) {\n                            url =  this.getUrlByMenu(menu.children[sub_menu_index], menu.id);\n                        } else {\n                            menu.children.forEach(sub_menu => {\n                                let sub_child_menu_index = sub_menu.children.findIndex(sub_child_menu => sub_child_menu.id == menu_id);\n                                if (sub_child_menu_index >= 0) {\n                                    url = this.getUrlByMenu(sub_menu.children[menu_index], menu.id, sub_menu.id)\n                                }\n                            });\n                        }\n                    });\n                }\n            }\n            return url\n\n        },\n        addRole() {\n            this.showRoleForm = true;\n        },\n        editRole(role) {\n\n            console.log(role)\n\n            this.roleForm.name = role.name;\n            this.roleForm.display_name = role.display_name;\n            this.roleForm.description = role.description;\n\n            this.editID = role.id;\n            this.showRoleForm = true;\n        },\n        deleteRole(id) {\n            axios.delete(`/lambda/puzzle/roles/destroy/${id}`).then(res => {\n\n\n                this.$Message.success('Амжилттай устгагдлаа');\n                this.getData();\n\n\n            }).catch(err => {\n\n                this.loadingForm = false;\n                this.$Message.error('Уучлаарай алдаа гарлаа');\n            })\n        },\n\n        saveRoleForm() {\n            this.$refs.roleForm.validate((valid) => {\n                if (valid) {\n                    this.loadingForm = true;\n\n                    let saveUrl = this.editID ? `/lambda/puzzle/roles/store/${this.editID}` : '/lambda/puzzle/roles/create'\n                    axios.post(saveUrl, {...this.roleForm}).then(res => {\n\n\n                        this.getData();\n\n\n                        this.closeRole();\n                        this.$Message.success('Амжилттай хадаглагдлаа');\n\n\n                    }).catch(err => {\n\n                        this.loadingForm = false;\n                        this.$Message.error('Уучлаарай алдаа гарлаа');\n                    })\n                }\n            });\n        },\n        closeRole() {\n            this.showRoleForm = false;\n            this.editID = null;\n            this.loadingForm = false;\n            this.roleForm = {\n                name: '',\n                display_name: '',\n                description: '',\n            };\n            this.selectedMenu = null;\n            this.menuIndex = null;\n            this.selectedRole = null;\n        },\n\n        getData() {\n            this.loading = true;\n            let url = '/lambda/puzzle/roles-menus';\n            if (this.$project) {\n                url = `/lambda/puzzle/roles-menus/${this.$project.id}`;\n            }\n\n            axios.get(url).then(res => {\n                if (res.data.status) {\n                    this.roles = res.data.roles.map(role => {\n                        if (role.permissions != null && role.permissions != \"\") {\n                            role.permissions = JSON.parse(role.permissions);\n                        }\n                        return role;\n                    });\n                    this.cruds = res.data.cruds;\n                    this.menus = res.data.menus.map((menu, index) => {\n                        let items = JSON.parse(menu.schema);\n                        return {\n                            id: menu.id,\n                            menuIndex: index,\n                            title: menu.name,\n                            items: items\n                        }\n                    });\n\n                    this.loading = false;\n\n                }\n            })\n        },\n        selectMenu(index) {\n            this.selectedMenu = this.menus[index];\n\n\n            if (index >= 0)\n                this.initPermissions({});\n            else {\n\n                this.roles[this.selectedRole].permissions = {\n                    menu_id: null,\n                    default_menu: null,\n                    permissions: {},\n                    extra: {\n                        datasource: false,\n                        moqup: false,\n                        chart: false,\n                        userlist: false,\n                        excelupload: false,\n                        approve: false,\n                        hascustomcreatebtn: false,\n                    }\n                }\n            }\n\n        },\n        selectRole(index) {\n            this.selectedRole = index;\n\n\n            if (this.roles[this.selectedRole].permissions === null || this.roles[this.selectedRole].permissions == '') {\n\n                this.selectedMenu = null;\n                this.menuIndex = null;\n                this.extra = {\n                    datasource: false,\n                    moqup: false,\n                    chart: false\n\n                };\n\n                this.roles[this.selectedRole].permissions = {\n                    menu_id: null,\n                    default_menu: null,\n                    permissions: {},\n                    extra: {\n                        datasource: false,\n                        moqup: false,\n                        chart: false,\n                        userlist: false,\n                        excelupload: false,\n                        approve: false,\n                        hascustomcreatebtn: false,\n                    }\n                }\n\n            } else {\n\n\n                let menu_index = this.menus.findIndex(menu => menu.id == this.roles[this.selectedRole].permissions.menu_id);\n\n                if (menu_index >= 0) {\n\n                    this.selectedMenu = null;\n                    setTimeout(() => {\n                        this.selectedMenu = JSON.parse(JSON.stringify(this.menus[menu_index]))\n\n                        this.menuIndex = menu_index;\n                        this.initPermissions(this.roles[this.selectedRole].permissions.permissions, this.roles[this.selectedRole].permissions.default_menu);\n                    }, 100);\n                }\n            }\n\n        },\n        changePermission(type, menu_item_id, value) {\n\n            // let changeIndex = this.roles[this.selectedRole].permissions.permissions.findIndex(permission=>permission.menu_id == menu_item_id);\n            //\n            // if(changeIndex >= 0){\n            //     this.roles[this.selectedRole].permissions.permissions[changeIndex][type] = value;\n            // }\n\n        },\n        initPermissions(permissions, default_menu) {\n\n            let role_permission = this.roles[this.selectedRole].permissions;\n            let extra = null;\n            if (!role_permission['extra']) {\n                extra = {...this.extra};\n            } else {\n                extra = {...role_permission.extra}\n            }\n\n\n            this.roles[this.selectedRole].permissions = {\n                menu_id: this.selectedMenu.id,\n                default_menu: default_menu,\n                permissions: this.getPermissions(permissions ? permissions : {}, this.selectedMenu.items),\n                extra: extra\n            }\n\n        },\n        getPermissions(permissions, menuItems) {\n\n\n            let new_permissions = {};\n            menuItems.map(menu => {\n\n\n                if (permissions.hasOwnProperty(menu.id)) {\n                    new_permissions[menu.id] = {...permissions[menu.id]}\n\n                } else {\n                    if (menu.link_to == 'crud') {\n                        new_permissions[menu.id] = {\n                            menu_id: menu.id,\n                            c: false,\n                            r: false,\n                            u: false,\n                            d: false,\n                            show: false,\n                            title: this.getTitle(menu),\n                            gridEditConditionSQL:\"\",\n                            gridDeleteConditionSQL:\"\",\n                            gridDeleteConditionJS:\"\",\n                            gridEditConditionJS:\"\",\n                        }\n                    } else {\n                        new_permissions[menu.id] = {\n                            menu_id: menu.id,\n                            show: false,\n                            title: this.getTitle(menu)\n                        }\n                    }\n                }\n\n                if (menu.children.length >= 1) {\n                    let child_permistions = this.getPermissions(permissions, menu.children);\n                    new_permissions = {...new_permissions, ...child_permistions}\n                }\n\n            });\n\n\n            return new_permissions;\n\n        },\n        saveRole() {\n\n            if (this.roles[this.selectedRole].permissions) {\n                if (this.roles[this.selectedRole].permissions.default_menu) {\n                    axios.post(`/lambda/puzzle/save-role?id=${this.roles[this.selectedRole].id}${this.$project ? this.$project.id ? '&project_id='+this.$project.id:'' : ''}`, {\n                        id: this.roles[this.selectedRole].id,\n                        permissions: this.roles[this.selectedRole].permissions,\n                        extra: {...this.extra},\n                    }).then(res => {\n                        this.$Message.success('Амжилттай хадаглагдлаа');\n                    }).catch(err => {\n                        this.$Message.error('Уучлаарай алдаа гарлаа');\n                    })\n                } else {\n                    this.$Message.error('Анхдагч цэс сонгоно уу');\n                }\n\n            } else {\n                this.$Message.error('Цэс сонгоно уу');\n            }\n\n        },\n        getTitle(item) {\n\n            if (item.link_to == 'crud') {\n                let crudIndex = this.cruds.findIndex(crud => crud.id == item.url);\n\n\n                if (crudIndex >= 0)\n                    return this.cruds[crudIndex].title\n                else\n                    return ''\n            } else\n                return item.title;\n        },\n\n    },\n    mounted() {\n        this.getData();\n    },\n    watch: {\n        // menuIndex(){\n        //     if(this.menuIndex !== null){\n        //         this.selectMenu(this.menuIndex);\n        //     }\n        // }\n    },\n    computed: {\n        lang() {\n            const labels = ['manage_access_rights', 'please_wait', '_save', 'add', 'optional', 'cancel', 'duties', '_name', 'user_list', 'appearance_name', 'note', 'default_menu', 'please_select_role', 'data_source', '_moqup', '_chart', '_import', 'register', 'menuSelection', '_confirm'];\n            return labels.reduce((obj, key, i) => {\n                obj[key] = this.$t('puzzle.' + labels[i]);\n                return obj;\n            }, {});\n        },\n        permissions() {\n\n            if (this.selectedRole !== null) {\n                if (this.roles[this.selectedRole].permissions) {\n                    return this.roles[this.selectedRole].permissions.permissions\n                } else {\n                    return {};\n                }\n            } else\n                return {};\n        },\n        currentRole() {\n            if (this.selectedRole !== null) {\n                return this.roles[this.selectedRole];\n            } else\n                return null\n        },\n        // roleMenus(){\n        //     if(this.selectedMenu){\n        //         let userMenus = [];\n        //\n        //         Object.keys(this.permissions).map(permission=>{\n        //             if(this.permissions[permission].show){\n        //\n        //                 let menu_index = this.selectedMenu.items.findIndex(menu=>menu.id == permission);\n        //\n        //                 if(menu_index >= 0){\n        //                     userMenus.push({\n        //                         menu_id:this.selectedMenu.items[menu_index].id,\n        //                         title: this.getTitle(this.selectedMenu.items[menu_index])\n        //                     });\n        //                 }\n        //             }\n        //         });\n        //\n        //         return userMenus;\n        //     } else {\n        //         return [];\n        //     }\n        // }\n    }\n};\n</script>\n\n\n\n","import mod from \"-!../../../../../../vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=7c9abcb9&\"\nimport script from \"./index.vue?vue&type=script&lang=js&\"\nexport * from \"./index.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"names":["props","components","data","loading","extend","formUser","gridUser","formField","gridField","user_fields","window","init","grid_fields","grid_fields_full","form_fields","gridCondition","formCondition","methods","changeFilter","query","this","permissions","id","gridEditConditionSQL","changeFilterJS","gridEditConditionJS","changeDeleteFilter","gridDeleteConditionSQL","changeDeleteFilterJS","gridDeleteConditionJS","switchLanguage","val","selectedLang","loadLanguageAsync","addFrom","push","user_field","form_field","updateValue","$Message","error","deleteFrom","index","splice","deleteGrid","addGrid","grid_field","showUserData","axios","get","project","url","then","res","status","length","catch","getIndex","pre_myIndex","menuIndex","concat","element","getTitle","item","link_to","crudIndex","cruds","findIndex","crud","title","changePermissionPre","type","value","c","r","u","d","$emit","changePermission","menu_item_id","computed","lang","labels","reduce","obj","key","i","$t","_vm","_h","$createElement","_c","_self","staticClass","attrs","icon","class","_v","domProps","_s","_e","show","model","callback","$$v","$set","expression","on","$event","children","_l","menu_item","tag","_m","please_wait","custom_column","judgment_column","condition","list_grid","value_column","MenuItem","name","roles","menus","selectedMenu","selectedRole","showRoleForm","loadingForm","roleForm","display_name","description","extra","datasourcce","moqup","chart","userlist","excelupload","approve","hascustomcreatebtn","editID","ruleRole","required","message","trigger","beforeMount","getUrlByMenu","menu","parentID","subParentID","getMenuUrl","menu_id","menu_index","items","undefined","forEach","sub_menu_index","sub_menu","sub_child_menu","addRole","editRole","role","console","log","deleteRole","delete","success","getData","err","saveRoleForm","$refs","validate","valid","saveUrl","post","closeRole","$project","map","JSON","parse","schema","selectMenu","initPermissions","default_menu","datasource","selectRole","setTimeout","stringify","role_permission","getPermissions","menuItems","new_permissions","hasOwnProperty","child_permistions","saveRole","mounted","watch","currentRole","slot","manage_access_rights","add","staticStyle","menuSelection","Object","keys","_save","optional","data_source","_moqup","_chart","user_list","_import","register","_confirm","please_select_role","duties","ref","_name","appearance_name","note","cancel"],"sourceRoot":""}