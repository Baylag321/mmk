(self.webpackChunk=self.webpackChunk||[]).push([[6812],{34155:e=>{var t,n,l=e.exports={};function a(){throw new Error("setTimeout has not been defined")}function s(){throw new Error("clearTimeout has not been defined")}function i(e){if(t===setTimeout)return setTimeout(e,0);if((t===a||!t)&&setTimeout)return t=setTimeout,setTimeout(e,0);try{return t(e,0)}catch(n){try{return t.call(null,e,0)}catch(n){return t.call(this,e,0)}}}!function(){try{t="function"==typeof setTimeout?setTimeout:a}catch(e){t=a}try{n="function"==typeof clearTimeout?clearTimeout:s}catch(e){n=s}}();var r,o=[],c=!1,u=-1;function d(){c&&r&&(c=!1,r.length?o=r.concat(o):u=-1,o.length&&_())}function _(){if(!c){var e=i(d);c=!0;for(var t=o.length;t;){for(r=o,o=[];++u<t;)r&&r[u].run();u=-1,t=o.length}r=null,c=!1,function(e){if(n===clearTimeout)return clearTimeout(e);if((n===s||!n)&&clearTimeout)return n=clearTimeout,clearTimeout(e);try{n(e)}catch(t){try{return n.call(null,e)}catch(t){return n.call(this,e)}}}(e)}}function f(e,t){this.fun=e,this.array=t}function p(){}l.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];o.push(new f(e,t)),1!==o.length||c||i(_)},f.prototype.run=function(){this.fun.apply(null,this.array)},l.title="browser",l.browser=!0,l.env={},l.argv=[],l.version="",l.versions={},l.on=p,l.addListener=p,l.once=p,l.off=p,l.removeListener=p,l.removeAllListeners=p,l.emit=p,l.prependListener=p,l.prependOnceListener=p,l.listeners=function(e){return[]},l.binding=function(e){throw new Error("process.binding is not supported")},l.cwd=function(){return"/"},l.chdir=function(e){throw new Error("process.chdir is not supported")},l.umask=function(){return 0}},56394:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>_});var l=n(9980),a=n.n(l),s=n(9669),i=n.n(s),r=n(20629);function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);t&&(l=l.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,l)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){u(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function u(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const d={methods:{isShowAble:function(e,t,n){if(n)return e.table.indexOf(this.search)>=0},selectTable:function(e){var t=this;this.$store.commit("setTable",e),window.init.dbSchema.tableMeta&&window.init.dbSchema.tableMeta[e]?this.selectTableReal(window.init.dbSchema.tableMeta[e],e):i().get("/lambda/puzzle/table-schema/".concat(e)).then((function(n){t.selectTableReal(n.data,e)}))},selectTableReal:function(e,t){var n=e.map((function(e){return{name:e.model,title:e.model,type:e.dbType,table:e.table,alias:t+"_as_"+e.model,output:!0,sortType:"none",sortOrder:1,groupBy:!1,groupOrder:1,aggregate:"none"}}));this.$store.commit("setFields",n)}},data:function(){return{tableList:window.init.dbSchema.tableList,tableMeta:window.init.dbSchema.tableMeta,viewList:window.init.dbSchema.viewList,table_:"",selected_field:{}}},mounted:function(){this.table&&(this.table_=this.table)},components:{draggable:a()},computed:c(c({},(0,r.Se)({table:"table",fields:"fields"})),{},{lang:function(){var e=this,t=["data_table","selectTable","groupBy","aggregation","no","count","_max","_min","_avg","_sum","count_distinct","avg_distinct","sum_distinct","_sort","no_sort","grouping","_type","fictitious_name"];return t.reduce((function(n,l,a){return n[l]=e.$t("chart."+t[a]),n}),{})}}),watch:{table:function(e){this.table_=e}}};const _=(0,n(51900).Z)(d,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"table-list ve-column"},[n("div",{staticClass:"tables"},[n("label",[e._v(e._s(e.lang.data_table))]),e._v(" "),n("Select",{attrs:{placeholder:e.lang.selectTable,clearable:""},on:{"on-change":e.selectTable},model:{value:e.table_,callback:function(t){e.table_=t},expression:"table_"}},[n("OptionGroup",{attrs:{label:"Table list"}},e._l(e.tableList,(function(t){return n("Option",{key:t.index,attrs:{value:t}},[e._v("\n                            "+e._s(t)+"\n                        ")])})),1),e._v(" "),n("OptionGroup",{attrs:{label:"View list"}},e._l(e.viewList,(function(t){return n("Option",{key:t.index,attrs:{value:t}},[e._v("\n                            "+e._s(t)+"\n                        ")])})),1)],1),e._v(" "),n("div",{staticClass:"source-fields"},[n("draggable",{attrs:{options:{group:{name:"element",pull:"clone",put:!1},sort:!1}},model:{value:e.fields,callback:function(t){e.fields=t},expression:"fields"}},e._l(e.fields,(function(t,l){return n("Button",{key:l,staticClass:"data-element",on:{click:function(n){e.selected_field=t}}},[e._v("\n                    "+e._s(t.name)+"\n\n                    "),t.groupBy?n("span",{staticClass:"groupBy"},[e._v(e._s(e.lang.groupBy))]):e._e(),e._v(" "),"none"!=t.aggregate?n("span",{staticClass:"aggregation"},[e._v(e._s(t.aggregate))]):e._e()])})),1)],1),e._v(" "),n("br"),e._v(" "),e.selected_field.name?n("table",{staticClass:"column-options"},[n("tr",[n("td",[e._v("\n                    "+e._s(e.lang.aggregation)+":\n                ")]),e._v(" "),n("td",[n("div",{staticClass:"selector"},[n("Select",{staticStyle:{width:"100px"},attrs:{size:"small"},model:{value:e.selected_field.aggregate,callback:function(t){e.$set(e.selected_field,"aggregate",t)},expression:"selected_field.aggregate"}},[n("Option",{attrs:{value:"none"}},[e._v(e._s(e.lang.no))]),e._v(" "),n("Option",{attrs:{value:"count"}},[e._v(e._s(e.lang.count))]),e._v(" "),n("Option",{attrs:{value:"max"}},[e._v(e._s(e.lang._max))]),e._v(" "),n("Option",{attrs:{value:"min"}},[e._v(e._s(e.lang._min))]),e._v(" "),n("Option",{attrs:{value:"avg"}},[e._v(e._s(e.lang._avg))]),e._v(" "),n("Option",{attrs:{value:"sum"}},[e._v(e._s(e.lang._sum))]),e._v(" "),n("Option",{attrs:{value:"countDistinct"}},[e._v(e._s(e.lang.count_distinct))]),e._v(" "),n("Option",{attrs:{value:"avgDistinct"}},[e._v(e._s(e.lang.avg_distinct))]),e._v(" "),n("Option",{attrs:{value:"sumDistinct"}},[e._v(e._s(e.lang.sum_distinct))])],1)],1)])]),e._v(" "),n("tr",[n("td",[e._v("\n                    "+e._s(e.lang._sort)+":\n                ")]),e._v(" "),n("td",[n("div",{staticClass:"selector"},[n("Select",{staticStyle:{width:"100px"},attrs:{size:"small"},model:{value:e.selected_field.sortType,callback:function(t){e.$set(e.selected_field,"sortType",t)},expression:"selected_field.sortType"}},[n("Option",{attrs:{value:"none"}},[e._v(e._s(e.lang.no_sort))]),e._v(" "),n("Option",{attrs:{value:"ASC"}},[e._v("A-Z")]),e._v(" "),n("Option",{attrs:{value:"DESC"}},[e._v("Z-A")])],1)],1)])]),e._v(" "),n("tr",[n("td",{attrs:{colspan:"2"}},[n("Checkbox",{attrs:{size:"small"},model:{value:e.selected_field.groupBy,callback:function(t){e.$set(e.selected_field,"groupBy",t)},expression:"selected_field.groupBy"}},[e._v(e._s(e.lang.grouping))])],1)]),e._v(" "),n("tr",[n("td",[e._v("\n                    "+e._s(e.lang._type)+":\n                ")]),e._v(" "),n("td",[n("Input",{staticClass:"table-col-search",attrs:{disabled:"",size:"small"},model:{value:e.selected_field.type,callback:function(t){e.$set(e.selected_field,"type",t)},expression:"selected_field.type"}})],1)]),e._v(" "),n("tr",[n("td",[e._v("\n                    "+e._s(e.lang.fictitious_name)+":\n                ")]),e._v(" "),n("td",[n("Input",{staticClass:"table-col-search",attrs:{disabled:"",placeholder:"",size:"small"},model:{value:e.selected_field.alias,callback:function(t){e.$set(e.selected_field,"alias",t)},expression:"selected_field.alias"}})],1)]),e._v(" "),n("tr",[n("td",[e._v("\n                    "+e._s(e.lang._color)+":\n                ")]),e._v(" "),n("td",[n("Input",{staticClass:"table-col-search",attrs:{placeholder:"",size:"small"},model:{value:e.selected_field.color,callback:function(t){e.$set(e.selected_field,"color",t)},expression:"selected_field.color"}})],1)]),e._v(" "),n("tr",[n("td",[e._v("\n                    "+e._s(e.lang._sort)+" #:\n                ")]),e._v(" "),n("td",[n("InputNumber",{staticClass:"table-col-search",attrs:{min:1,disabled:"none"==e.selected_field.sortType,type:"number",size:"small"},model:{value:e.selected_field.sortOrder,callback:function(t){e.$set(e.selected_field,"sortOrder",t)},expression:"selected_field.sortOrder"}})],1)]),e._v(" "),n("tr",[n("td",[e._v("\n                    "+e._s(e.lang.grouping)+" #:\n                ")]),e._v(" "),n("td",[n("InputNumber",{staticClass:"table-col-search",attrs:{min:1,disabled:!e.selected_field.groupBy,type:"number",size:"small"},model:{value:e.selected_field.groupOrder,callback:function(t){e.$set(e.selected_field,"groupOrder",t)},expression:"selected_field.groupOrder"}})],1)])]):e._e()],1)])}),[],!1,null,null,null).exports}}]);
//# sourceMappingURL=chart-table-list.bd1dd07c926c714c.js.map