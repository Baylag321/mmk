{"version":3,"file":"assets/lambda/js/chunks/graphql-list.fbeb3bb81fa37b99.js","mappings":"sGAAA,I,WCiGA,MCjGqH,EDiGrH,CACEA,MAAO,CAAC,QAAS,OAAQ,MAAO,UAAW,UAC3CC,KAAI,KACK,CACLC,gBAAgB,EAChBC,SAAS,EACTC,SAAU,GACVC,aAAc,GACdC,cAAe,CACbC,OAAQ,GACRC,KAAM,KACNC,GAAI,MAENC,UAAUC,OAAOC,KAAe,SAAa,UAC7CC,SAASF,OAAOC,KAAe,SAAY,SAC3CE,WAAWH,OAAOC,KAAe,SAAc,aAInDG,UACEC,KAAKC,WAELC,SAAU,CACNC,OACI,MAAMC,EAAS,CAAE,MAAO,eACxB,OAAOA,EAAOC,QAAO,CAACC,EAAKC,EAAKC,KAC5BF,EAAIC,GAAOP,KAAKS,GAAG,UAAYL,EAAOI,IAC/BF,IACR,KAEPI,QACI,MAAMN,EAAS,CAAE,yBAA0B,MAAO,KAAM,OAAQ,OAAQ,cAAe,QAAS,aAAc,cAC9G,OAAOA,EAAOC,QAAO,CAACC,EAAKC,EAAKC,KAC5BF,EAAIC,GAAOP,KAAKS,GAAG,cAAgBL,EAAOI,IACnCF,IACR,MAGbK,QAAS,CACLC,cAC6B,MAArBZ,KAAKa,eACL,IAAAC,mBAAkBd,KAAKa,eAG/BE,eAAeC,GACXhB,KAAKa,aAAeG,GACpB,IAAAF,mBAAkBE,IAExBf,UACEgB,MAAMC,IAAIlB,KAAKmB,OAAOC,KAAKC,MAAK,EAAEpC,KAAAA,MAChCe,KAAKb,SAAU,EACfa,KAAKX,aAAeW,KAAKZ,SAAWH,EAAKA,SAG7CqC,cAEE,IAAIF,EAAM,6BACM,QAAbpB,KAAKuB,OACJH,EAAM,6BAERpB,KAAKV,cAAcC,OAAOA,OAAOiC,SAAQC,IACvCA,EAAIC,MAAQ1B,KAAKV,cAAcC,OAAOoC,UAGvC3B,KAAK4B,WACHR,EAAM,0BAA0BpB,KAAK4B,SAASnC,UAC9B,QAAbO,KAAKuB,OACLH,EAAM,0BAA0BpB,KAAK4B,SAASnC,UAE9CO,KAAKV,cAAcC,OAAOA,OAAOiC,SAAQC,IACrCA,EAAIC,MAAQ1B,KAAKV,cAAcC,OAAOoC,WAQlD,IAAI1C,EAAO,CACTO,KAAMQ,KAAKV,cAAcE,KACzBD,OAAQsC,KAAKC,UAAU9B,KAAKV,cAAcC,SAE5C0B,MAAMc,KAAKX,EAAKnC,GAAMoC,MAAK,EAAEpC,KAAAA,MACvBA,EAAK+C,QACPhC,KAAKiC,QAAQC,QAAQ,CACnBC,MAAO,yBACPC,KAAM,IAAIpC,KAAKqC,sDAEjBrC,KAAKd,gBAAiB,EACtBc,KAAKV,cAAgB,CACnBC,OAAQ,GACRC,KAAM,KACNC,GAAI,MAENO,KAAKC,WAELD,KAAKiC,QAAQK,MAAM,CACjBH,MAAO,mCAKfI,UAAU9C,EAAI8B,GACV,IAAIH,EAAM,8BAA8B3B,YAC1B,QAAbO,KAAKuB,OACNH,EAAM,8BAA8B3B,KAGnCO,KAAK4B,WACHR,EAAM,0BAA0BpB,KAAK4B,SAASnC,WAAWA,YACzC,QAAbO,KAAKuB,OACLH,EAAM,0BAA0BpB,KAAK4B,SAASnC,WAAWA,MAGjEwB,MAAMC,IAAIE,GACLC,MAAK,EAAEpC,KAAAA,MACNe,KAAKV,cAAcE,KAAOP,EAAKA,KAAKuD,eAAe,QAAUvD,EAAKA,KAAKO,KAAOP,EAAKA,KAAK0C,MACxF3B,KAAKV,cAAcC,OAASsC,KAAKY,MAAMxD,EAAKA,KAAKM,QACjDS,KAAKV,cAAcG,GAAKA,EACxBO,KAAKd,gBAAiB,KACrBwD,OAAMC,IACXC,QAAQC,IAAIF,OAGhBG,eAAerD,GACbwB,MAAM8B,OAAO/C,KAAK4B,SAAW,4CAA4C5B,KAAK4B,SAASnC,MAAMO,KAAKuB,QAAQ9B,IAAO,oCAAoCO,KAAKuB,QAAQ9B,KAAM4B,MAAKsB,IAC3K3C,KAAKX,aAAeW,KAAKX,aAAa2D,QAClCC,GAAQA,EAAKxD,KAAOA,IAExBO,KAAKZ,SAAWY,KAAKZ,SAAS4D,QAAOC,GAAQA,EAAKxD,KAAOA,IACzDO,KAAKkD,SAAShB,QAAQ,+BAG1BiB,WAEAC,WAAWC,GACT,IAAIC,EAAKtD,KACLuD,EAAIF,EAAOG,OAAOC,MAEpBH,EAAGjE,aADI,IAALkE,EACgBD,EAAGlE,SAAS4D,QAC1BC,GACIA,EAAKzD,KACAkE,WACAC,cACAC,QAAQL,EAAEI,gBAAkB,IAGvBL,EAAGlE,YElO7B,SAXgB,E,SAAA,GACd,GHRW,WAAa,IAAIyE,EAAI7D,KAAS8D,EAAGD,EAAIE,eAAmBC,EAAGH,EAAII,MAAMD,IAAIF,EAAG,OAAOE,EAAG,UAAU,CAACE,YAAY,kBAAkB,CAACF,EAAG,MAAM,CAACE,YAAY,oBAAoB,CAACF,EAAG,KAAK,CAACH,EAAIM,GAAGN,EAAIO,GAAGP,EAAI1B,OAAO,KAAK0B,EAAIO,GAAGP,EAAIzE,SAASiF,QAAQ,OAAOR,EAAIM,GAAG,KAAKH,EAAG,MAAM,CAACE,YAAY,2BAA2B,CAACF,EAAG,QAAQ,CAACM,YAAY,CAAC,MAAQ,SAASC,MAAM,CAAC,KAAO,aAAa,YAAcV,EAAInD,MAAM8D,wBAAwBC,GAAG,CAAC,WAAWZ,EAAIT,eAAe,GAAGS,EAAIM,GAAG,KAAKH,EAAG,MAAM,CAACE,YAAY,4BAA4B,CAACF,EAAG,cAAc,CAACE,YAAY,UAAUK,MAAM,CAAC,IAAOV,EAAIa,OAASb,EAAIa,OAAS,IAAM,IAAMb,EAAItC,KAAO,aAAc,CAACyC,EAAG,SAAS,CAACO,MAAM,CAAC,KAAO,YAAY,CAACP,EAAG,OAAO,CAACO,MAAM,CAAC,KAAO,YAAYV,EAAIM,GAAG,iBAAiBN,EAAIO,GAAGP,EAAI1D,KAAKwE,KAAK,eAAe,IAAI,IAAI,KAAKd,EAAIM,GAAG,KAAMN,EAAW,QAAEG,EAAG,MAAM,CAACE,YAAY,UAAU,CAACF,EAAG,MAAM,CAACE,YAAY,kBAAkB,CAACL,EAAIe,GAAG,GAAGf,EAAIM,GAAG,KAAKH,EAAG,KAAK,CAACH,EAAIM,GAAGN,EAAIO,GAAGP,EAAI1D,KAAK0E,oBAAoBb,EAAG,MAAM,CAACc,WAAW,CAAC,CAACtF,KAAK,aAAauF,QAAQ,eAAetB,MAAM,CAAEuB,OAAO,UAAUC,KAAK,EAAEC,eAAe,EAAKC,UAAU,EAAEC,MAAM,WAAYC,WAAW,8EAA8EnB,YAAY,UAAUK,MAAM,CAAC,OAAS,KAAKV,EAAIyB,GAAIzB,EAAgB,cAAE,SAASZ,GAAM,OAAOe,EAAG,MAAM,CAACzD,IAAI0C,EAAKsC,MAAMhB,MAAM,CAAC,GAAK,GAAG,GAAK,GAAG,GAAK,EAAE,GAAK,IAAI,CAACP,EAAG,MAAM,CAACE,YAAY,gBAAgB,CAACF,EAAG,MAAM,CAACE,YAAY,qBAAqB,CAACF,EAAG,KAAK,CAACH,EAAIM,GAAGN,EAAIO,GAAGnB,EAAKzD,SAASqE,EAAIM,GAAG,KAAKH,EAAG,QAAQ,CAACH,EAAIM,GAAGN,EAAIO,GAAGnB,EAAKuC,iBAAiB3B,EAAIM,GAAG,KAAKH,EAAG,MAAM,CAACE,YAAY,wBAAwB,CAAiB,UAAfL,EAAI4B,QAAqBzB,EAAG,cAAc,CAACE,YAAY,cAAcK,MAAM,CAAC,IAAOV,EAAIa,OAASb,EAAIa,OAAS,IAAM,IAAMb,EAAItC,KAAO,YAAe0B,EAAO,KAAK,CAACe,EAAG,OAAO,CAACO,MAAM,CAAC,KAAO,cAAc,GAAGV,EAAI6B,KAAK7B,EAAIM,GAAG,iBAA8B,QAAZN,EAAItC,MAA8B,QAAZsC,EAAItC,KAAgByC,EAAG,IAAI,CAACE,YAAY,cAAcK,MAAM,CAAC,KAAO,uBAAuBE,GAAG,CAAC,MAAQ,SAASpB,GAAQ,OAAOQ,EAAItB,UAAUU,EAAKxD,GAAIoE,EAAItC,SAAS,CAACyC,EAAG,OAAO,CAACO,MAAM,CAAC,KAAO,cAAc,GAAGV,EAAI6B,KAAK7B,EAAIM,GAAG,KAAKH,EAAG,OAAO,CAACA,EAAG,cAAc,CAACE,YAAY,WAAWK,MAAM,CAAC,IAAOV,EAAIa,OAASb,EAAIa,OAAS,IAAM,IAAMb,EAAItC,KAAO,YAAe0B,EAAO,KAAK,CAACe,EAAG,OAAO,CAACO,MAAM,CAAC,KAAO,gBAAgB,GAAGV,EAAIM,GAAG,KAAKH,EAAG,SAAS,CAACO,MAAM,CAAC,QAAU,GAAG,MAAQV,EAAI1D,KAAKwF,YAAY,QAAU,GAAG,MAAQ,MAAM,UAAU9B,EAAInD,MAAMkF,IAAI,cAAc/B,EAAInD,MAAMmF,IAAIpB,GAAG,CAAC,QAAQ,SAASpB,GAAQ,OAAOQ,EAAIf,eAAeG,EAAKxD,KAAK,YAAYoE,EAAIV,SAAS,CAACa,EAAG,IAAI,CAACE,YAAY,UAAUK,MAAM,CAAC,KAAO,uBAAuB,CAACP,EAAG,OAAO,CAACO,MAAM,CAAC,KAAO,gBAAgB,MAAM,IAAI,UAAS,GAAGV,EAAIM,GAAG,KAAKH,EAAG,QAAQ,CAACO,MAAM,CAAC,MAAQV,EAAInD,MAAMoF,KAAK,UAAUjC,EAAInD,MAAMoF,MAAMrB,GAAG,CAAC,QAAQZ,EAAIvC,aAAaK,MAAM,CAAC8B,MAAOI,EAAkB,eAAEkC,SAAS,SAAUC,GAAMnC,EAAI3E,eAAe8G,GAAKX,WAAW,mBAAmB,CAACrB,EAAG,QAAQ,CAACH,EAAIM,GAAGN,EAAIO,GAAGP,EAAInD,MAAMlB,SAASqE,EAAIM,GAAG,KAAKH,EAAG,QAAQ,CAACM,YAAY,CAAC,MAAQ,QAAQC,MAAM,CAAC,YAAcV,EAAInD,MAAMlB,MAAMmC,MAAM,CAAC8B,MAAOI,EAAIvE,cAAkB,KAAEyG,SAAS,SAAUC,GAAMnC,EAAIoC,KAAKpC,EAAIvE,cAAe,OAAQ0G,IAAMX,WAAW,wBAAwBxB,EAAIM,GAAG,KAAKH,EAAG,QAAQ,CAACH,EAAIM,GAAGN,EAAIO,GAAGP,EAAInD,MAAMgB,OAAO,iBAAiBmC,EAAIM,GAAG,KAAiB,QAAXN,EAAItC,KAAeyC,EAAG,SAAS,CAACM,YAAY,CAAC,MAAQ,QAAQC,MAAM,CAAC,YAAcV,EAAInD,MAAMwF,YAAY,UAAY,GAAG,WAAa,IAAIvE,MAAM,CAAC8B,MAAOI,EAAIvE,cAAcC,OAAY,MAAEwG,SAAS,SAAUC,GAAMnC,EAAIoC,KAAKpC,EAAIvE,cAAcC,OAAQ,QAASyG,IAAMX,WAAW,+BAA+BxB,EAAIyB,GAAIzB,EAAa,WAAE,SAASZ,GAAM,OAAOe,EAAG,SAAS,CAACzD,IAAI0C,EAAKsC,MAAMhB,MAAM,CAAC,MAAQtB,IAAO,CAACY,EAAIM,GAAGN,EAAIO,GAAGnB,SAAW,GAAGY,EAAI6B,KAAK7B,EAAIM,GAAG,KAAiB,QAAXN,EAAItC,KAAeyC,EAAG,SAAS,CAACM,YAAY,CAAC,MAAQ,QAAQC,MAAM,CAAC,YAAcV,EAAInD,MAAMwF,YAAY,UAAY,GAAG,WAAa,IAAIvE,MAAM,CAAC8B,MAAOI,EAAIvE,cAAcC,OAAY,MAAEwG,SAAS,SAAUC,GAAMnC,EAAIoC,KAAKpC,EAAIvE,cAAcC,OAAQ,QAASyG,IAAMX,WAAW,+BAA+B,CAACrB,EAAG,cAAc,CAACO,MAAM,CAAC,MAAQV,EAAI1D,KAAKgG,aAAatC,EAAIyB,GAAIzB,EAAa,WAAE,SAASZ,GAAM,OAAOe,EAAG,SAAS,CAACzD,IAAI0C,EAAKsC,MAAMhB,MAAM,CAAC,MAAQtB,IAAO,CAACY,EAAIM,GAAGN,EAAIO,GAAGnB,SAAW,GAAGY,EAAIM,GAAG,KAAKH,EAAG,cAAc,CAACO,MAAM,CAAC,MAAQV,EAAI1D,KAAKgG,aAAatC,EAAIyB,GAAIzB,EAAY,UAAE,SAASZ,GAAM,OAAOe,EAAG,SAAS,CAACzD,IAAI0C,EAAKsC,MAAMhB,MAAM,CAAC,MAAQtB,IAAO,CAACY,EAAIM,GAAGN,EAAIO,GAAGnB,SAAW,IAAI,GAAGY,EAAI6B,KAAK7B,EAAIM,GAAG,KAAiB,QAAXN,EAAItC,KAAeyC,EAAG,QAAQ,CAACH,EAAIM,GAAGN,EAAIO,GAAGP,EAAInD,MAAM0F,YAAY,iBAAiBvC,EAAI6B,KAAK7B,EAAIM,GAAG,KAAiB,QAAXN,EAAItC,KAAeyC,EAAG,SAAS,CAACM,YAAY,CAAC,MAAQ,QAAQC,MAAM,CAAC,YAAcV,EAAInD,MAAMwF,YAAY,UAAY,GAAG,WAAa,IAAIvE,MAAM,CAAC8B,MAAOI,EAAIvE,cAAcC,OAAgB,UAAEwG,SAAS,SAAUC,GAAMnC,EAAIoC,KAAKpC,EAAIvE,cAAcC,OAAQ,YAAayG,IAAMX,WAAW,mCAAmCxB,EAAIyB,GAAIzB,EAAa,WAAE,SAASZ,GAAM,OAAOe,EAAG,SAAS,CAACzD,IAAI0C,EAAKsC,MAAMhB,MAAM,CAAC,MAAQtB,IAAO,CAACY,EAAIM,GAAGN,EAAIO,GAAGnB,SAAW,GAAGY,EAAI6B,MAAM,IAAI,KACjzJ,CAAC,WAAa,IAAI7B,EAAI7D,KAAS8D,EAAGD,EAAIE,eAAmBC,EAAGH,EAAII,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACE,YAAY,cAAc,CAACF,EAAG,OAAOH,EAAIM,GAAG,KAAKH,EAAG,OAAOH,EAAIM,GAAG,KAAKH,EAAG,OAAOH,EAAIM,GAAG,KAAKH,EAAG,OAAOH,EAAIM,GAAG,KAAKH,EAAG,OAAOH,EAAIM,GAAG,KAAKH,EAAG,OAAOH,EAAIM,GAAG,KAAKH,EAAG,OAAOH,EAAIM,GAAG,KAAKH,EAAG,YGU1S,EACA,KACA,KACA,MAI8B,S,8CCPhC,MCXuH,EDWvH,CACIqC,WAAY,CACR,Y,SAAa,GAEjBpH,KAAI,KACO,IAGX0B,QAAS,GAGTT,SAAU,CACNC,OACI,MAAMC,EAAS,CAAC,sBAChB,OAAOA,EAAOC,QAAO,CAACC,EAAKC,EAAKC,KAC5BF,EAAIC,GAAOP,KAAKS,GAAG,WAAaL,EAAOI,IAChCF,IACR,OEVf,SAXgB,E,SAAA,GACd,GCRW,WAAa,IAAIuD,EAAI7D,KAAS8D,EAAGD,EAAIE,eAAmBC,EAAGH,EAAII,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAAEH,EAAY,SAAEG,EAAG,YAAY,CAACO,MAAM,CAAC,IAAO,0BAA6BV,EAAIjC,SAAW,GAAI,WAAY,MAAQiC,EAAI1D,KAAKmG,mBAAmB,KAAO,UAAU,KAAOzC,EAAIzE,SAAS,QAAU,YAAY4E,EAAG,YAAY,CAACO,MAAM,CAAC,IAAM,gCAAgC,MAAQV,EAAI1D,KAAKmG,mBAAmB,KAAO,UAAU,KAAOzC,EAAIzE,SAAS,QAAU,aAAa,KACzb,IDUpB,EACA,KACA,KACA,MAI8B","sources":["webpack:///./node_modules/@lambda-platform/lambda-builder/src/components/listview.vue?ee3d","webpack:///node_modules/@lambda-platform/lambda-builder/src/components/listview.vue","webpack:///./node_modules/@lambda-platform/lambda-builder/src/components/listview.vue?2027","webpack:///./node_modules/@lambda-platform/lambda-builder/src/components/listview.vue","webpack:///node_modules/@lambda-platform/lambda-builder/src/pages/graphql/views/list.vue","webpack:///./node_modules/@lambda-platform/lambda-builder/src/pages/graphql/views/list.vue?0913","webpack:///./node_modules/@lambda-platform/lambda-builder/src/pages/graphql/views/list.vue","webpack:///./node_modules/@lambda-platform/lambda-builder/src/pages/graphql/views/list.vue?581c"],"sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('section',{staticClass:\"page page-list\"},[_c('div',{staticClass:\"page-list-header\"},[_c('h3',[_vm._v(_vm._s(_vm.title)+\" (\"+_vm._s(_vm.listData.length)+\")\")]),_vm._v(\" \"),_c('div',{staticClass:\"page-list-header-search\"},[_c('Input',{staticStyle:{\"width\":\"200px\"},attrs:{\"icon\":\"ios-search\",\"placeholder\":_vm.lang1.pleaseEnterSearchValue},on:{\"on-keyup\":_vm.filterList}})],1),_vm._v(\" \"),_c('div',{staticClass:\"page-list-header-control\"},[_c('router-link',{staticClass:\"btn-del\",attrs:{\"to\":((_vm.prefix ? _vm.prefix : '') + \"/\" + _vm.type + \"/builder\")}},[_c('Button',{attrs:{\"type\":\"success\"}},[_c('Icon',{attrs:{\"type\":\"md-add\"}}),_vm._v(\"\\n            \"+_vm._s(_vm.lang.add)+\"\\n        \")],1)],1)],1)]),_vm._v(\" \"),(_vm.loading)?_c('div',{staticClass:\"loader\"},[_c('div',{staticClass:\"loader-wrapper\"},[_vm._m(0),_vm._v(\" \"),_c('h3',[_vm._v(_vm._s(_vm.lang.please_wait))])])]):_c('Row',{directives:[{name:\"slimscroll\",rawName:\"v-slimscroll\",value:({height:'100%-30',size:7,alwaysVisible: true,wheelStep:7,color:'#2C3A47'}),expression:\"{height:'100%-30',size:7,alwaysVisible: true,wheelStep:7,color:'#2C3A47'}\"}],staticClass:\"pz-list\",attrs:{\"gutter\":16}},_vm._l((_vm.filteredList),function(item){return _c('Col',{key:item.index,attrs:{\"xs\":24,\"sm\":12,\"md\":8,\"lg\":6}},[_c('div',{staticClass:\"pz-list-item\"},[_c('div',{staticClass:\"pz-list-item-body\"},[_c('h3',[_vm._v(_vm._s(item.name))]),_vm._v(\" \"),_c('small',[_vm._v(_vm._s(item.created_at))])]),_vm._v(\" \"),_c('div',{staticClass:\"pz-list-item-control\"},[(_vm.preview != 'hidden')?_c('router-link',{staticClass:\"btn-preview\",attrs:{\"to\":((_vm.prefix ? _vm.prefix : '') + \"/\" + _vm.type + \"/preview/\" + (item.id))}},[_c('Icon',{attrs:{\"type\":\"ios-eye\"}})],1):_vm._e(),_vm._v(\" \\n          \"),(_vm.type == 'form' || _vm.type == 'grid')?_c('a',{staticClass:\"btn-preview\",attrs:{\"href\":\"javascript:void(0);\"},on:{\"click\":function($event){return _vm.duplicate(item.id, _vm.type)}}},[_c('Icon',{attrs:{\"type\":\"md-copy\"}})],1):_vm._e(),_vm._v(\" \"),_c('span',[_c('router-link',{staticClass:\"btn-edit\",attrs:{\"to\":((_vm.prefix ? _vm.prefix : '') + \"/\" + _vm.type + \"/builder/\" + (item.id))}},[_c('Icon',{attrs:{\"type\":\"md-create\"}})],1),_vm._v(\" \"),_c('Poptip',{attrs:{\"confirm\":\"\",\"title\":_vm.lang.delete_data,\"confirm\":\"\",\"width\":\"180\",\"ok-text\":_vm.lang1.yes,\"cancel-text\":_vm.lang1.no},on:{\"on-ok\":function($event){return _vm.deleteListItem(item.id)},\"on-cancel\":_vm.cancel}},[_c('a',{staticClass:\"btn-del\",attrs:{\"href\":\"javascript:void(0)\"}},[_c('Icon',{attrs:{\"type\":\"ios-trash\"}})],1)])],1)],1)])])}),1),_vm._v(\" \"),_c('Modal',{attrs:{\"title\":_vm.lang1.copy,\"ok-text\":_vm.lang1.copy},on:{\"on-ok\":_vm.doDuplicate},model:{value:(_vm.duplicateModal),callback:function ($$v) {_vm.duplicateModal=$$v},expression:\"duplicateModal\"}},[_c('label',[_vm._v(_vm._s(_vm.lang1.name))]),_vm._v(\" \"),_c('Input',{staticStyle:{\"width\":\"100%\"},attrs:{\"placeholder\":_vm.lang1.name},model:{value:(_vm.duplicateData.name),callback:function ($$v) {_vm.$set(_vm.duplicateData, \"name\", $$v)},expression:\"duplicateData.name\"}}),_vm._v(\" \"),_c('label',[_vm._v(_vm._s(_vm.lang1.table)+\" (DB table)\")]),_vm._v(\" \"),(_vm.type== 'form')?_c('Select',{staticStyle:{\"width\":\"100%\"},attrs:{\"placeholder\":_vm.lang1.selectTable,\"clearable\":\"\",\"filterable\":\"\"},model:{value:(_vm.duplicateData.schema.model),callback:function ($$v) {_vm.$set(_vm.duplicateData.schema, \"model\", $$v)},expression:\"duplicateData.schema.model\"}},_vm._l((_vm.tableList),function(item){return _c('Option',{key:item.index,attrs:{\"value\":item}},[_vm._v(_vm._s(item))])}),1):_vm._e(),_vm._v(\" \"),(_vm.type== 'grid')?_c('Select',{staticStyle:{\"width\":\"100%\"},attrs:{\"placeholder\":_vm.lang1.selectTable,\"clearable\":\"\",\"filterable\":\"\"},model:{value:(_vm.duplicateData.schema.model),callback:function ($$v) {_vm.$set(_vm.duplicateData.schema, \"model\", $$v)},expression:\"duplicateData.schema.model\"}},[_c('OptionGroup',{attrs:{\"label\":_vm.lang.table_list}},_vm._l((_vm.tableList),function(item){return _c('Option',{key:item.index,attrs:{\"value\":item}},[_vm._v(_vm._s(item))])}),1),_vm._v(\" \"),_c('OptionGroup',{attrs:{\"label\":_vm.lang.table_list}},_vm._l((_vm.viewList),function(item){return _c('Option',{key:item.index,attrs:{\"value\":item}},[_vm._v(_vm._s(item))])}),1)],1):_vm._e(),_vm._v(\" \"),(_vm.type== 'grid')?_c('label',[_vm._v(_vm._s(_vm.lang1.basicTable)+\" (DB table)\")]):_vm._e(),_vm._v(\" \"),(_vm.type== 'grid')?_c('Select',{staticStyle:{\"width\":\"100%\"},attrs:{\"placeholder\":_vm.lang1.selectTable,\"clearable\":\"\",\"filterable\":\"\"},model:{value:(_vm.duplicateData.schema.mainTable),callback:function ($$v) {_vm.$set(_vm.duplicateData.schema, \"mainTable\", $$v)},expression:\"duplicateData.schema.mainTable\"}},_vm._l((_vm.tableList),function(item){return _c('Option',{key:item.index,attrs:{\"value\":item}},[_vm._v(_vm._s(item))])}),1):_vm._e()],1)],1)}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"lds-roller\"},[_c('div'),_vm._v(\" \"),_c('div'),_vm._v(\" \"),_c('div'),_vm._v(\" \"),_c('div'),_vm._v(\" \"),_c('div'),_vm._v(\" \"),_c('div'),_vm._v(\" \"),_c('div'),_vm._v(\" \"),_c('div')])}]\n\nexport { render, staticRenderFns }","<template>\n  <section class=\"page page-list\">\n    <div class=\"page-list-header\">\n      <h3>{{ title }} ({{ listData.length }})</h3>\n      <div class=\"page-list-header-search\">\n        <Input @on-keyup=\"filterList\" icon=\"ios-search\" :placeholder=\"lang1.pleaseEnterSearchValue\"\n               style=\"width: 200px\"/>\n      </div>\n      <div class=\"page-list-header-control\">\n        <router-link :to=\"`${prefix ? prefix : ''}/${type}/builder`\" class=\"btn-del\">\n          <Button type=\"success\">\n            <Icon type=\"md-add\"></Icon>\n              {{ lang.add }}\n          </Button>\n        </router-link>\n      </div>\n    </div>\n\n    <div v-if=\"loading\" class=\"loader\">\n      <div class=\"loader-wrapper\">\n        <div class=\"lds-roller\">\n          <div></div>\n          <div></div>\n          <div></div>\n          <div></div>\n          <div></div>\n          <div></div>\n          <div></div>\n          <div></div>\n        </div>\n        <h3>{{ lang.please_wait }}</h3>\n      </div>\n    </div>\n\n    <Row v-else :gutter=\"16\" class=\"pz-list\"\n         v-slimscroll=\"{height:'100%-30',size:7,alwaysVisible: true,wheelStep:7,color:'#2C3A47'}\">\n      <Col :xs=\"24\" :sm=\"12\" :md=\"8\" :lg=\"6\" v-for=\"item in filteredList\" :key=\"item.index\">\n        <div class=\"pz-list-item\">\n          <div class=\"pz-list-item-body\">\n            <h3>{{ item.name }}</h3>\n            <small>{{ item.created_at }}</small>\n          </div>\n          <div class=\"pz-list-item-control\">\n            <router-link :to=\"`${prefix ? prefix : ''}/${type}/preview/${item.id}`\" class=\"btn-preview\"\n                         v-if=\"preview != 'hidden'\">\n              <Icon type=\"ios-eye\"></Icon>\n            </router-link>&nbsp;\n            <a href=\"javascript:void(0);\" class=\"btn-preview\" v-if=\"type == 'form' || type == 'grid'\"\n               @click=\"duplicate(item.id, type)\">\n              <Icon type=\"md-copy\"></Icon>\n            </a>\n            <span>\n                        <router-link :to=\"`${prefix ? prefix : ''}/${type}/builder/${item.id}`\" class=\"btn-edit\">\n                            <Icon type=\"md-create\"></Icon>\n                        </router-link>\n                        <Poptip confirm :title=\"lang.delete_data\" confirm width=\"180\" :ok-text=\"lang1.yes\"\n                                :cancel-text=\"lang1.no\" @on-ok=\"deleteListItem(item.id)\" @on-cancel=\"cancel\">\n                            <a href=\"javascript:void(0)\" class=\"btn-del\">\n                                <Icon type=\"ios-trash\"></Icon>\n                            </a>\n                        </Poptip>\n                    </span>\n          </div>\n        </div>\n      </Col>\n    </Row>\n    <Modal\n        v-model=\"duplicateModal\"\n        :title=\"lang1.copy\"\n        :ok-text=\"lang1.copy\"\n        @on-ok=\"doDuplicate\"\n    >\n      <label>{{ lang1.name }}</label>\n      <Input v-model=\"duplicateData.name\" :placeholder=\"lang1.name\" style=\"width: 100%\"/>\n      <label>{{ lang1.table }} (DB table)</label>\n      <Select v-if=\"type== 'form'\" v-model=\"duplicateData.schema.model\" :placeholder=\"lang1.selectTable\" clearable style=\"width: 100%\"\n              filterable>\n        <Option v-for=\"item in tableList\" :value=\"item\" :key=\"item.index\">{{ item }}</Option>\n      </Select>\n        <Select v-if=\"type== 'grid'\"  v-model=\"duplicateData.schema.model\" :placeholder=\"lang1.selectTable\" clearable filterable style=\"width: 100%\">\n        <OptionGroup :label=\"lang.table_list\">\n          <Option v-for=\"item in tableList\" :value=\"item\" :key=\"item.index\">{{ item }}</Option>\n        </OptionGroup>\n        <OptionGroup :label=\"lang.table_list\">\n          <Option v-for=\"item in viewList\" :value=\"item\" :key=\"item.index\">{{ item }}</Option>\n        </OptionGroup>\n      </Select>\n      <label v-if=\"type== 'grid'\">{{ lang1.basicTable }} (DB table)</label>\n      <Select v-if=\"type== 'grid'\" v-model=\"duplicateData.schema.mainTable\" :placeholder=\"lang1.selectTable\" clearable style=\"width: 100%\" filterable>\n        <Option v-for=\"item in tableList\" :value=\"item\" :key=\"item.index\">{{ item }}</Option>\n      </Select>\n    </Modal>\n  </section>\n</template>\n\n<script>\nimport {loadLanguageAsync} from \"../locale/index\";\nexport default {\n  props: [\"title\", \"type\", \"src\", \"preview\", \"prefix\"],\n  data() {\n    return {\n      duplicateModal: false,\n      loading: true,\n      listData: [],\n      filteredList: [],\n      duplicateData: {\n        schema: {},\n        name: null,\n        id: null,\n      },\n      tableList:window.init[\"dbSchema\"][\"tableList\"],\n      viewList:window.init[\"dbSchema\"][\"viewList\"],\n      reportList:window.init[\"dbSchema\"][\"reportList\"],\n    };\n  },\n\n  created() {\n    this.getData();\n  },\n    computed: {\n        lang() {\n            const labels = [ 'add', 'delete_data'];\n            return labels.reduce((obj, key, i) => {\n                obj[key] = this.$t('puzzle.' + labels[i]);\n                return obj;\n            }, {});\n        },\n        lang1() {\n            const labels = [ 'pleaseEnterSearchValue', 'yes', 'no', 'copy', 'name', 'selectTable', 'table', 'basicTable', 'table_list'];\n            return labels.reduce((obj, key, i) => {\n                obj[key] = this.$t('components.' + labels[i]);\n                return obj;\n            }, {});\n        },\n    },\n  methods: {\n      beforeMount() {\n          if (this.selectedLang != \"mn\") {\n              loadLanguageAsync(this.selectedLang);\n          }\n      },\n      switchLanguage(val) {\n          this.selectedLang = val;\n          loadLanguageAsync(val);\n      },\n    getData() {\n      axios.get(this.$props.src).then(({data}) => {\n        this.loading = false;\n        this.filteredList = this.listData = data.data;\n      });\n    },\n    doDuplicate() {\n\n      let src = \"/lambda/puzzle/schema/form\"\n      if(this.type == \"grid\"){\n          src = \"/lambda/puzzle/schema/grid\";\n\n        this.duplicateData.schema.schema.forEach(col=>{\n          col.table = this.duplicateData.schema.model\n        });\n      }\n      if(this.$project){\n           src = `/lambda/puzzle/project/${this.$project.id}/form`\n          if (this.type == \"grid\") {\n              src = `/lambda/puzzle/project/${this.$project.id}/grid`;\n\n              this.duplicateData.schema.schema.forEach(col => {\n                  col.table = this.duplicateData.schema.model\n              });\n          }\n      }\n      // if(this.type == \"from\"){\n      //   this.duplicateData.schema.ui.schema = [];\n      // }\n\n      let data = {\n        name: this.duplicateData.name,\n        schema: JSON.stringify(this.duplicateData.schema)\n      };\n      axios.post(src, data).then(({data}) => {\n        if (data.status) {\n          this.$Notice.success({\n            title: 'Амжилттай хадгалагдлаа',\n            desc: `\"${this.formName}\" формын мэдээлэл амжилттай хадгалагдлаа.`\n          });\n          this.duplicateModal = false;\n          this.duplicateData = {\n            schema: {},\n            name: null,\n            id: null,\n          };\n          this.getData();\n        } else {\n          this.$Notice.error({\n            title: 'Хадгалах үед алдаа гарлаа!',\n          });\n        }\n      });\n    },\n    duplicate(id, type) {\n        let src = `/lambda/puzzle/schema/form/${id}/builder`\n      if(this.type == \"grid\"){\n        src = `/lambda/puzzle/schema/grid/${id}`\n      }\n\n      if(this.$project){\n           src = `/lambda/puzzle/project/${this.$project.id}/form/${id}/builder`\n          if (this.type == \"grid\") {\n              src = `/lambda/puzzle/project/${this.$project.id}/grid/${id}`\n          }\n      }\n      axios.get(src)\n          .then(({data}) => {\n            this.duplicateData.name = data.data.hasOwnProperty('name') ? data.data.name : data.data.model;\n            this.duplicateData.schema = JSON.parse(data.data.schema);\n            this.duplicateData.id = id;\n            this.duplicateModal = true;\n          }).catch(o => {\n        console.log(o);\n      });\n    },\n    deleteListItem(id) {\n      axios.delete(this.$project ? `/lambda/puzzle/delete/project/vb_schemas/${this.$project.id}/${this.type}/${id}` : `/lambda/puzzle/delete/vb_schemas/${this.type}/${id}`).then(o => {\n        this.filteredList = this.filteredList.filter(\n            item => item.id !== id\n        );\n        this.listData = this.listData.filter(item => item.id !== id);\n        this.$Message.success(\"444 Амжилттай устгалаа!\");\n      });\n    },\n    cancel() {\n    },\n    filterList($event) {\n      let vm = this;\n      let q = $event.target.value;\n      if (q != \"\") {\n        vm.filteredList = vm.listData.filter(\n            item =>\n                item.name\n                    .toString()\n                    .toLowerCase()\n                    .indexOf(q.toLowerCase()) >= 0\n        );\n      } else {\n        vm.filteredList = vm.listData;\n      }\n    }\n  }\n};\n</script>\n","import mod from \"-!../../../../vue-loader/lib/index.js??vue-loader-options!./listview.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../vue-loader/lib/index.js??vue-loader-options!./listview.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./listview.vue?vue&type=template&id=6d0335ac&\"\nimport script from \"./listview.vue?vue&type=script&lang=js&\"\nexport * from \"./listview.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<template>\n    <div>\n        <list-view v-if=\"$project\" :src=\"`/lambda/puzzle/project/${$project.id}/graphql`\"  :title=\"lang.graphql_management\" type=\"graphql\" :data=\"listData\" preview=\"hidden\"></list-view>\n        <list-view v-else src=\"/lambda/puzzle/schema/graphql\" :title=\"lang.graphql_management\" type=\"graphql\" :data=\"listData\" preview=\"hidden\"></list-view>\n    </div>\n\n</template>\n\n<script>\nimport listView from \"../../../components/listview.vue\";\n\nexport default {\n    components: {\n        \"list-view\": listView\n    },\n    data() {\n        return {\n        };\n    },\n    methods: {\n\n    },\n    computed: {\n        lang() {\n            const labels = ['graphql_management',];\n            return labels.reduce((obj, key, i) => {\n                obj[key] = this.$t('project.' + labels[i]);\n                return obj;\n            }, {});\n        },\n    }\n};\n</script>\n","import mod from \"-!../../../../../../vue-loader/lib/index.js??vue-loader-options!./list.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../vue-loader/lib/index.js??vue-loader-options!./list.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./list.vue?vue&type=template&id=ae3e386e&\"\nimport script from \"./list.vue?vue&type=script&lang=js&\"\nexport * from \"./list.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[(_vm.$project)?_c('list-view',{attrs:{\"src\":(\"/lambda/puzzle/project/\" + (_vm.$project.id) + \"/graphql\"),\"title\":_vm.lang.graphql_management,\"type\":\"graphql\",\"data\":_vm.listData,\"preview\":\"hidden\"}}):_c('list-view',{attrs:{\"src\":\"/lambda/puzzle/schema/graphql\",\"title\":_vm.lang.graphql_management,\"type\":\"graphql\",\"data\":_vm.listData,\"preview\":\"hidden\"}})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }"],"names":["props","data","duplicateModal","loading","listData","filteredList","duplicateData","schema","name","id","tableList","window","init","viewList","reportList","created","this","getData","computed","lang","labels","reduce","obj","key","i","$t","lang1","methods","beforeMount","selectedLang","loadLanguageAsync","switchLanguage","val","axios","get","$props","src","then","doDuplicate","type","forEach","col","table","model","$project","JSON","stringify","post","status","$Notice","success","title","desc","formName","error","duplicate","hasOwnProperty","parse","catch","o","console","log","deleteListItem","delete","filter","item","$Message","cancel","filterList","$event","vm","q","target","value","toString","toLowerCase","indexOf","_vm","_h","$createElement","_c","_self","staticClass","_v","_s","length","staticStyle","attrs","pleaseEnterSearchValue","on","prefix","add","_m","please_wait","directives","rawName","height","size","alwaysVisible","wheelStep","color","expression","_l","index","created_at","preview","_e","delete_data","yes","no","copy","callback","$$v","$set","selectTable","table_list","basicTable","components","graphql_management"],"sourceRoot":""}