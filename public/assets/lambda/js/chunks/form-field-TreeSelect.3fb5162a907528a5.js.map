{"version":3,"file":"assets/lambda/js/chunks/form-field-TreeSelect.3fb5162a907528a5.js","mappings":"iHAYA,iBAGA,iCAEA,SACS,EAAT,wBACA,uBACa,EAAb,WAEA,qBACa,EAAb,YAEa,EAAb,YAES,EAAT,cAEA,KC7BuH,EDgCtH,CAEI,MAAL,2DAEK,KAAL,KACA,CACW,SAAX,GACW,SAAX,IAGK,SAAL,CACS,YACI,OAAb,wCAGK,MAAL,CACS,gBACG,KAAZ,WAES,YACI,KAAb,WACY,KAAZ,YAIK,QAAL,CACS,UACI,GAAb,mBACiB,GAAjB,8BACqB,IAArB,0DACqB,EAArB,SACyB,EAAzB,6EACA,uBAC6B,EAA7B,WAGA,+CAC6B,EAA7B,YAE6B,EAA7B,YAEyB,EAAzB,cACA,KAGoB,IAApB,6BAIqB,YAArB,KACyB,KAAzB,aACA,SAGqB,KAArB,iBAGiB,KAAjB,aAIS,SAAT,GACA,aACiB,IAAjB,wDE7EA,SAXgB,E,SAAA,GACd,GCRW,WAAa,IAAIA,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,WAAW,CAACE,MAAM,CAAC,MAAQN,EAAIO,MAAM,KAAOP,EAAIQ,OAAO,CAACJ,EAAG,MAAM,CAACK,YAAY,eAAe,CAAGT,EAAIU,QAAuFV,EAAIW,KAAlFP,EAAG,OAAO,CAACE,MAAM,CAAC,KAAON,EAAIY,UAAUC,GAAG,CAAC,mBAAmBb,EAAIc,aAAsB,OAClR,IDUpB,EACA,KACA,KACA,MAI8B","sources":["webpack:///node_modules/@lambda-platform/dataform/src/elements/TreeSelect.vue","webpack:///./node_modules/@lambda-platform/dataform/src/elements/TreeSelect.vue?2017","webpack:///./node_modules/@lambda-platform/dataform/src/elements/TreeSelect.vue","webpack:///./node_modules/@lambda-platform/dataform/src/elements/TreeSelect.vue?2e00"],"sourcesContent":["<template>\n    <FormItem :label=label :prop=rule>\n        <div class=\"tree-select\">\n            <tree :data=\"treeData\" @on-select-change=\"selected\" v-if=\"!loading\"></tree>\n<!--            <Cascader :data=\"treeData\" v-model=\"model.form[model.component]\"></Cascader>-->\n\n<!--            {{treeData}}-->\n        </div>\n    </FormItem>\n</template>\n<script>\n\n   const getChildren = (rows, parentId, selectedValue)=>{\n\n\n        let filtred = rows.filter(row=>row.parent_value == parentId)\n\n        return filtred.map(row=>{\n            row.children = getChildren(rows, row.value, selectedValue);\n            if(row.children.length >= 1){\n                row.expand = true\n            }\n            if(`${row.value}` == `${selectedValue}`)\n                row.selected = true;\n            else\n                row.selected = false;\n\n            row.title = row.label\n\n            return row\n        })\n    };\n    export default {\n\n        props: [\"model\", \"rule\", \"label\", \"meta\", \"disabled\", \"relation_data\"],\n\n        data(){\n          return {\n              treeData:[],\n              loading:false\n          }\n        },\n        computed: {\n            treeValue(){\n                return this.model.form[this.model.component]\n            }\n        },\n        watch:{\n            relation_data(){\n               this.options();\n            },\n            treeValue(){\n                this.loading = true\n               this.options();\n            },\n        },\n\n        methods: {\n            options() {\n                if(this.relation_data){\n                    if (this.relation_data.length >= 1) {\n                        let filtred = this.relation_data.filter(row=>row[\"parent_value\"] === undefined);\n                        filtred.map(row=>{\n                            row.children = getChildren(this.relation_data, row.value, this.model.form[this.model.component]);\n                            if(row.children.length >= 1){\n                                row.expand = true\n                            }\n\n                            if(row.value == this.model.form[this.model.component])\n                                row.selected = true;\n                            else\n                                row.selected = false;\n\n                            row.title = row.label\n                            return row\n                        });\n\n                       Vue.set(this.$data, \"treeData\", filtred);\n\n                        // this.$set(this.$data, 'treeData', filtred);\n\n                        setTimeout(()=>{\n                            this.loading = false\n                        }, 10)\n\n                    } else {\n                        this.treeData = []\n                    }\n                } else {\n                    this.treeData = []\n                }\n\n            },\n            selected(e){\n                if(e.length >= 1)\n                    Vue.set(this.model.form, this.model.component, e[0].value);\n            },\n\n        }\n    };\n</script>\n","import mod from \"-!../../../../vue-loader/lib/index.js??vue-loader-options!./TreeSelect.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../vue-loader/lib/index.js??vue-loader-options!./TreeSelect.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./TreeSelect.vue?vue&type=template&id=2cca9d0f&\"\nimport script from \"./TreeSelect.vue?vue&type=script&lang=js&\"\nexport * from \"./TreeSelect.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('FormItem',{attrs:{\"label\":_vm.label,\"prop\":_vm.rule}},[_c('div',{staticClass:\"tree-select\"},[(!_vm.loading)?_c('tree',{attrs:{\"data\":_vm.treeData},on:{\"on-select-change\":_vm.selected}}):_vm._e()],1)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }"],"names":["_vm","this","_h","$createElement","_c","_self","attrs","label","rule","staticClass","loading","_e","treeData","on","selected"],"sourceRoot":""}