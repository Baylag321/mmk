"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[5311],{11320:(e,t,i)=>{function s(e){if(e.filterWithUser){if(e.filterWithUser&&e.filterWithUser.constructor===Array)e.filterWithUser.forEach((t=>{let i=`${t.tableField} = '${window.init.user[t.userField]}'`;""==e.filter||void 0===e.filter?e.filter=i:e.filter=e.filter+" AND "+i}));else{let t=`${e.filterWithUser.tableField} = '${window.init.user[e.filterWithUser.userField]}'`;""==e.filter||void 0===e.filter?e.filter=t:e.filter=e.filter+" AND "+t}e.filterWithUser=void 0}return console.log(e.filterWithUser),e}i.d(t,{_:()=>s})},39996:(e,t,i)=>{i.r(t),i.d(t,{default:()=>c});var s=i(91317),l=i.n(s),a=i(9669),r=i.n(a),n=i(47408),o=i(11320);const u=l().extend({data:()=>({options:[],selected:"",currentValue:null}),created(){if(!this.params.isClient){let e=`/lambda/krud/${this.params.schemaID}/options`;r().post(e,(0,o._)(this.params.column.filter.relation)).then((({data:e})=>{this.options=e,this.loading=!1}))}},methods:{element:n.b,setMeta(e){return e.schemaID=this.params.schemaID,e},getValues(){console.log("here"),console.log(this.params.api),this.params.api.forEachLeafNode((e=>{this.options.push(e.data[this.params.column.model])})),this.options=[...new Set(this.options)]},setValue(e){this.selected=e,this.params.filterData(this.params.column.model,e,"equals")},valueChanged(e){this.params.isClient?this.params.filterData(this.params.column.model,e.target.value,"contains"):(this.params.filterModel[this.params.column.model]=e.target.value,this.params.filterData(1))},onParentModelChanged(e){this.currentValue=e?e.filter:null}}});const c=(0,i(51900).Z)(u,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"selectable-input-filter"},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.selected,expression:"selected"}],ref:"sinput",domProps:{value:e.selected},on:{input:[function(t){t.target.composing||(e.selected=t.target.value)},e.valueChanged]}}),e._v(" "),i("div",{staticClass:"selectable-input-filter-arrow"},[i("Poptip",{on:{"on-popper-show":e.getValues}},[i("div",{staticClass:"arrow-down"}),e._v(" "),i("div",{attrs:{slot:"content"},slot:"content"},[i("ul",{staticClass:"selectable-input-filter-list"},e._l(e.options,(function(t){return i("li",{key:t.index,on:{click:function(i){return e.setValue(t)}}},[e._v("\n                        "+e._s(t)+"\n                    ")])})),0)])])],1)])}),[],!1,null,null,null).exports}}]);
//# sourceMappingURL=grid-SetFilter.37687867366fc696.js.map