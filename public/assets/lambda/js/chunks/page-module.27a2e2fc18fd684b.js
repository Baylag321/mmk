"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[5179],{98653:(t,e,r)=>{r.r(e),r.d(e,{default:()=>n});const i={name:"settings.vue",props:["menuId"],data:function(){return{title:"",menu:[],cruds:window.init.cruds,property:{template:"canvas",mode:window.init.crud_mode?window.init.crud_mode:void 0,title:"",projects_id:null,grid:null,form:null,view_url:null,actions:[],user_condition:null,permissions:{c:!1,r:!1,u:!1,d:!1,gridDeleteConditionJS:"",gridEditConditionJS:""}}}},created:function(){this.getMenu()},methods:{getMenu:function(){var t=this;axios.get("/lambda/krud/menu_form/edit/".concat(this.menuId)).then((function(e){var r=e.data;t.menu=JSON.parse(r.data.schema),console.log(t.menu),t.title=r.data.name}))},getCrud:function(t){var e=this;if(this.cruds){var r=this.cruds.findIndex((function(e){return e.id==t}));if(r>=0){this.property.title=this.cruds[r].title,this.property.projects_id=this.cruds[r].projects_id,this.property.grid=this.cruds[r].grid,this.property.form=this.cruds[r].form,this.property.template=this.cruds[r].template,this.property.main_tab_title=this.cruds[r].main_tab_title,this.property.form_width=this.cruds[r].form_width?this.cruds[r].form_width:null,this.property.view_url=this.cruds[r].view_url,this.property.permissions.c=!0,this.property.permissions.r=!0,this.property.permissions.u=!0,this.property.permissions.d=!1;var i={};i&&(this.property.user_condition=i),this.$modal.show("crud-modal")}}else axios.get("/api/krud/".concat(t)).then((function(t){var r=t.data;e.property.grid=r.grid,e.property.form=r.form,e.$modal.show("crud-modal")}))},showCrud:function(){this.$modal.show("crud-modal")},getTitle:function(t){if("crud"==t.link_to){var e=this.cruds.findIndex((function(e){return e.id==t.url}));return e>=0?this.cruds[e].title:""}return t.title}}};var s=r(51900);const o={components:{Settings:(0,s.Z)(i,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"settings-module"},[t._l(t.menu,(function(r){return e("div",{key:r.id,staticClass:"module"},[e("h2",[t._v(t._s(r.title))]),t._v(" "),e("div",{staticClass:"sub-module"},t._l(r.children,(function(r){return e("div",{staticClass:"sub-module-item"},["crud"==r.link_to?e("a",{attrs:{href:"javascript:void(0)"},on:{click:function(e){return t.getCrud(r.url)}}},[e("i",{class:r.icon}),t._v(" "),e("span",{domProps:{innerHTML:t._s(t.getTitle(r))}})]):e("a",{attrs:{href:"#"}},[e("i",{class:r.icon}),t._v(" "),e("span",{domProps:{innerHTML:t._s(t.getTitle(r))}})])])})),0)])})),t._v(" "),e("paper-modal",{staticClass:"page-modal",attrs:{name:"crud-modal","min-width":200,"min-height":200,"pivot-y":.5,adaptive:!0,reset:!0,resizable:!0,width:"90%",height:"90%"}},[e("krud",{staticClass:"material",attrs:{template:t.property.template,property:t.property}})],1)],2)}),[],!1,null,null,null).exports},computed:{withoutHeader:function(){return!0===window.init.withoutHeader}}};const n=(0,s.Z)(o,(function(){var t=this,e=t._self._c;return e("section",["agent"==t.$route.params.module?e("agent",[e("user-control",{attrs:{slot:"user-control"},slot:"user-control"})],1):t._e(),t._v(" "),"profile"==t.$route.params.module?e("agent-form",{attrs:{type:"profile",withoutHeader:t.withoutHeader}},[e("user-control",{attrs:{slot:"user-control"},slot:"user-control"})],1):t._e(),t._v(" "),"password"==t.$route.params.module?e("agent-form",{attrs:{type:"password",withoutHeader:t.withoutHeader}},[e("user-control",{attrs:{slot:"user-control"},slot:"user-control"})],1):t._e(),t._v(" "),"notify"==t.$route.params.module?e("notif-list"):t._e(),t._v(" "),"logger"==t.$route.params.module?e("logger"):t._e(),t._v(" "),"settings"==t.$route.params.module?e("settings",{attrs:{"menu-id":t.$route.query.id}}):t._e()],1)}),[],!1,null,null,null).exports},51900:(t,e,r)=>{function i(t,e,r,i,s,o,n,u){var a,d="function"==typeof t?t.options:t;if(e&&(d.render=e,d.staticRenderFns=r,d._compiled=!0),i&&(d.functional=!0),o&&(d._scopeId="data-v-"+o),n?(a=function(t){(t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),s&&s.call(this,t),t&&t._registeredComponents&&t._registeredComponents.add(n)},d._ssrRegister=a):s&&(a=u?function(){s.call(this,(d.functional?this.parent:this).$root.$options.shadowRoot)}:s),a)if(d.functional){d._injectStyles=a;var l=d.render;d.render=function(t,e){return a.call(e),l(t,e)}}else{var c=d.beforeCreate;d.beforeCreate=c?[].concat(c,a):[a]}return{exports:t,options:d}}r.d(e,{Z:()=>i})}}]);
//# sourceMappingURL=page-module.27a2e2fc18fd684b.js.map