"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[4829],{79785:(t,s,e)=>{e.r(s),e.d(s,{default:()=>i});const a={props:["selectedLang"],name:"aside-login",components:{dataform:function(){return e.e(826).then(e.bind(e,97113))}},data:function(){return{tab:"login",tabs:"individual",loading:!1,isSuccess:!1,isError:!1,credentials:{login:null,password:null},lambda:window.lambda}},computed:{lang:function(){var t=this,s=["loginTitle","username","password","remember","login","forgot","loginSuccess","loginError"];return s.reduce((function(e,a,i){return e[a]=t.$t("user."+s[i]),e}),{})}},mounted:function(){window.init={showID:void 0,data_form_custom_elements:[{element:"registrationNumberCreator"}]}},methods:{onError:function(){this.$Notice.error({title:"Алдаа гарлаа",desc:"Алдаа гарлаа"})},onSuccess:function(){this.tab="login",this.$Notice.success({title:"Амжилттай",desc:"Амжилттай"})},onSubmit:function(){var t=this;this.isSuccess=!1,this.isError=!1,this.loading||(this.loading=!0,axios.post("/auth/login",this.credentials).then((function(s){var e=s.data;setTimeout((function(){t.loading=!1,e.status?(t.isSuccess=!0,console.log(e.token),localStorage.setItem("user_token",e.token),setTimeout((function(){window.location="/"}),600)):t.isError=!0}),1e3)})).catch((function(s){setTimeout((function(){t.loading=!1,t.isError=!0}),1e3)})))}}};const i=(0,e(51900).Z)(a,(function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"form-content",staticStyle:{width:"100%"}},[e("div",{staticClass:"title"},[e("h2",{staticStyle:{"max-width":"700px"}},[t._v(t._s(t.lambda.subTitle))])]),t._v(" "),e("Tabs",{attrs:{value:"name1"},model:{value:t.tab,callback:function(s){t.tab=s},expression:"tab"}},[e("TabPane",{attrs:{label:"Нэвтрэх",name:"login"}},["login"==t.tab?e("form",{ref:"login",staticClass:"login-form",attrs:{id:"#",method:"post"},on:{submit:function(s){return s.preventDefault(),t.onSubmit.apply(null,arguments)}}},[e("div",{staticClass:"form-element input"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.credentials.login,expression:"credentials.login"}],attrs:{type:"text",disabled:t.loading,placeholder:t.lang.username},domProps:{value:t.credentials.login},on:{input:function(s){s.target.composing||t.$set(t.credentials,"login",s.target.value)}}}),t._v(" "),e("span",{staticClass:"icon user"})]),t._v(" "),e("div",{staticClass:"form-element input"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.credentials.password,expression:"credentials.password"}],attrs:{type:"password",disabled:t.loading,placeholder:t.lang.password},domProps:{value:t.credentials.password},on:{input:function(s){s.target.composing||t.$set(t.credentials,"password",s.target.value)}}}),t._v(" "),e("span",{staticClass:"icon pass"})]),t._v(" "),e("div",{staticClass:"form-element"},[e("input",{staticClass:"checkbox",attrs:{type:"checkbox",id:"remember_me"}}),t._v(" "),e("label",{attrs:{for:"remember_me"}},[t._v(t._s(t.lang.remember))])]),t._v(" "),e("div",{staticClass:"form-element action"},[e("button",{staticClass:"button",attrs:{id:"submit",disabled:t.loading}},[e("span",{attrs:{id:"submitTxt"}},[t._v(t._s(t.lang.login))]),t._v(" "),e("span",{staticClass:"loader"},[t.loading?e("div",{staticClass:"sk-fading-circle"},[e("div",{staticClass:"sk-circle1 sk-circle"}),t._v(" "),e("div",{staticClass:"sk-circle2 sk-circle"}),t._v(" "),e("div",{staticClass:"sk-circle3 sk-circle"}),t._v(" "),e("div",{staticClass:"sk-circle4 sk-circle"}),t._v(" "),e("div",{staticClass:"sk-circle5 sk-circle"}),t._v(" "),e("div",{staticClass:"sk-circle6 sk-circle"}),t._v(" "),e("div",{staticClass:"sk-circle7 sk-circle"}),t._v(" "),e("div",{staticClass:"sk-circle8 sk-circle"}),t._v(" "),e("div",{staticClass:"sk-circle9 sk-circle"}),t._v(" "),e("div",{staticClass:"sk-circle10 sk-circle"}),t._v(" "),e("div",{staticClass:"sk-circle11 sk-circle"}),t._v(" "),e("div",{staticClass:"sk-circle12 sk-circle"})]):t._e()])]),t._v(" "),e("p",[e("router-link",{staticClass:"forgot",attrs:{to:"/forgot"}},[t._v(t._s(t.lang.forgot))])],1)])]):t._e()]),t._v(" "),e("TabPane",{attrs:{label:"Бүртгүүлэх",name:"register"}},["register"==t.tab?e("Tabs",{attrs:{id:"rightToRegister",value:"name"},model:{value:t.tabs,callback:function(s){t.tabs=s},expression:"tabs"}},[e("TabPane",{attrs:{icon:"md-person",label:"Хувь хүн",name:"individual"}},["individual"==t.tabs?e("div",[e("div",[e("dataform",{attrs:{public:!0,schemaID:"858",onSuccess:t.onSuccess,onError:t.onError}})],1)]):t._e()]),t._v(" "),e("TabPane",{attrs:{icon:"ios-briefcase",label:"Байгууллага",name:"organization"}},["organization"==t.tabs?e("div",[e("div",[e("dataform",{attrs:{public:!0,schemaID:"920",onSuccess:t.onSuccess,do_render:!0,onError:t.onError}})],1)]):t._e()])],1):t._e()],1)],1),t._v(" "),e("div",{attrs:{id:"msg"}},[t.isSuccess?e("span",{staticClass:"success"},[t._v(t._s(t.lang.loginSuccess))]):t._e(),t._v(" "),t.isError?e("span",{staticClass:"error"},[t._v(t._s(t.lang.loginError))]):t._e()]),t._v(" "),e("div",{staticClass:"registerHelp"},[e("a",{staticClass:"zaavar",attrs:{href:"/zaavar.html",target:"BurtguulehZaavar"}},[e("Icon",{attrs:{size:"20",type:"ios-alert"}}),t._v(" "),e("span",[t._v("Бүртгүүлэх заавар")])],1)])],1)}),[],!1,null,null,null).exports},51900:(t,s,e)=>{function a(t,s,e,a,i,n,r,o){var l,c="function"==typeof t?t.options:t;if(s&&(c.render=s,c.staticRenderFns=e,c._compiled=!0),a&&(c.functional=!0),n&&(c._scopeId="data-v-"+n),r?(l=function(t){(t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),i&&i.call(this,t),t&&t._registeredComponents&&t._registeredComponents.add(r)},c._ssrRegister=l):i&&(l=o?function(){i.call(this,(c.functional?this.parent:this).$root.$options.shadowRoot)}:i),l)if(c.functional){c._injectStyles=l;var d=c.render;c.render=function(t,s){return l.call(s),d(t,s)}}else{var u=c.beforeCreate;c.beforeCreate=u?[].concat(u,l):[l]}return{exports:t,options:c}}e.d(s,{Z:()=>a})}}]);
//# sourceMappingURL=auth-register-auth-login.983333712bc27bf3.js.map