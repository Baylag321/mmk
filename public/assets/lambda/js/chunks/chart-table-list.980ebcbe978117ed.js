(self.webpackChunk=self.webpackChunk||[]).push([[6812],{34155:e=>{var t,l,s=e.exports={};function a(){throw new Error("setTimeout has not been defined")}function n(){throw new Error("clearTimeout has not been defined")}function i(e){if(t===setTimeout)return setTimeout(e,0);if((t===a||!t)&&setTimeout)return t=setTimeout,setTimeout(e,0);try{return t(e,0)}catch(l){try{return t.call(null,e,0)}catch(l){return t.call(this,e,0)}}}!function(){try{t="function"==typeof setTimeout?setTimeout:a}catch(e){t=a}try{l="function"==typeof clearTimeout?clearTimeout:n}catch(e){l=n}}();var r,o=[],c=!1,d=-1;function u(){c&&r&&(c=!1,r.length?o=r.concat(o):d=-1,o.length&&_())}function _(){if(!c){var e=i(u);c=!0;for(var t=o.length;t;){for(r=o,o=[];++d<t;)r&&r[d].run();d=-1,t=o.length}r=null,c=!1,function(e){if(l===clearTimeout)return clearTimeout(e);if((l===n||!l)&&clearTimeout)return l=clearTimeout,clearTimeout(e);try{l(e)}catch(t){try{return l.call(null,e)}catch(t){return l.call(this,e)}}}(e)}}function v(e,t){this.fun=e,this.array=t}function p(){}s.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var l=1;l<arguments.length;l++)t[l-1]=arguments[l];o.push(new v(e,t)),1!==o.length||c||i(_)},v.prototype.run=function(){this.fun.apply(null,this.array)},s.title="browser",s.browser=!0,s.env={},s.argv=[],s.version="",s.versions={},s.on=p,s.addListener=p,s.once=p,s.off=p,s.removeListener=p,s.removeAllListeners=p,s.emit=p,s.prependListener=p,s.prependOnceListener=p,s.listeners=function(e){return[]},s.binding=function(e){throw new Error("process.binding is not supported")},s.cwd=function(){return"/"},s.chdir=function(e){throw new Error("process.chdir is not supported")},s.umask=function(){return 0}},99658:(e,t,l)=>{"use strict";l.r(t),l.d(t,{default:()=>c});var s=l(9980),a=l.n(s),n=l(9669),i=l.n(n),r=l(20629);const o={methods:{isShowAble(e,t,l){if(l){return e.table.indexOf(this.search)>=0}},selectTable(e){this.$store.commit("setTable",e),window.init.dbSchema.tableMeta&&window.init.dbSchema.tableMeta[e]?this.selectTableReal(window.init.dbSchema.tableMeta[e],e):i().get(`/lambda/puzzle/table-schema/${e}`).then((t=>{this.selectTableReal(t.data,e)}))},selectTableReal(e,t){let l=e.map((e=>({name:e.model,title:e.model,type:e.dbType,table:e.table,alias:t+"_as_"+e.model,output:!0,sortType:"none",sortOrder:1,groupBy:!1,groupOrder:1,aggregate:"none"})));this.$store.commit("setFields",l)}},data:()=>({tableList:window.init.dbSchema.tableList,tableMeta:window.init.dbSchema.tableMeta,viewList:window.init.dbSchema.viewList,table_:"",selected_field:{}}),mounted(){this.table&&(this.table_=this.table)},components:{draggable:a()},computed:{...(0,r.Se)({table:"table",fields:"fields"}),lang(){const e=["data_table","selectTable","groupBy","aggregation","no","count","_max","_min","_avg","_sum","count_distinct","avg_distinct","sum_distinct","_sort","no_sort","grouping","_type","fictitious_name"];return e.reduce(((t,l,s)=>(t[l]=this.$t("chart."+e[s]),t)),{})}},watch:{table:function(e){this.table_=e}}};const c=(0,l(51900).Z)(o,(function(){var e=this,t=e.$createElement,l=e._self._c||t;return l("div",{staticClass:"table-list ve-column"},[l("div",{staticClass:"tables"},[l("label",[e._v(e._s(e.lang.data_table))]),e._v(" "),l("Select",{attrs:{placeholder:e.lang.selectTable,clearable:""},on:{"on-change":e.selectTable},model:{value:e.table_,callback:function(t){e.table_=t},expression:"table_"}},[l("OptionGroup",{attrs:{label:"Table list"}},e._l(e.tableList,(function(t){return l("Option",{key:t.index,attrs:{value:t}},[e._v("\n                            "+e._s(t)+"\n                        ")])})),1),e._v(" "),l("OptionGroup",{attrs:{label:"View list"}},e._l(e.viewList,(function(t){return l("Option",{key:t.index,attrs:{value:t}},[e._v("\n                            "+e._s(t)+"\n                        ")])})),1)],1),e._v(" "),l("div",{staticClass:"source-fields"},[l("draggable",{attrs:{options:{group:{name:"element",pull:"clone",put:!1},sort:!1}},model:{value:e.fields,callback:function(t){e.fields=t},expression:"fields"}},e._l(e.fields,(function(t,s){return l("Button",{key:s,staticClass:"data-element",on:{click:function(l){e.selected_field=t}}},[e._v("\n                    "+e._s(t.name)+"\n\n                    "),t.groupBy?l("span",{staticClass:"groupBy"},[e._v(e._s(e.lang.groupBy))]):e._e(),e._v(" "),"none"!=t.aggregate?l("span",{staticClass:"aggregation"},[e._v(e._s(t.aggregate))]):e._e()])})),1)],1),e._v(" "),l("br"),e._v(" "),e.selected_field.name?l("table",{staticClass:"column-options"},[l("tr",[l("td",[e._v("\n                    "+e._s(e.lang.aggregation)+":\n                ")]),e._v(" "),l("td",[l("div",{staticClass:"selector"},[l("Select",{staticStyle:{width:"100px"},attrs:{size:"small"},model:{value:e.selected_field.aggregate,callback:function(t){e.$set(e.selected_field,"aggregate",t)},expression:"selected_field.aggregate"}},[l("Option",{attrs:{value:"none"}},[e._v(e._s(e.lang.no))]),e._v(" "),l("Option",{attrs:{value:"count"}},[e._v(e._s(e.lang.count))]),e._v(" "),l("Option",{attrs:{value:"max"}},[e._v(e._s(e.lang._max))]),e._v(" "),l("Option",{attrs:{value:"min"}},[e._v(e._s(e.lang._min))]),e._v(" "),l("Option",{attrs:{value:"avg"}},[e._v(e._s(e.lang._avg))]),e._v(" "),l("Option",{attrs:{value:"sum"}},[e._v(e._s(e.lang._sum))]),e._v(" "),l("Option",{attrs:{value:"countDistinct"}},[e._v(e._s(e.lang.count_distinct))]),e._v(" "),l("Option",{attrs:{value:"avgDistinct"}},[e._v(e._s(e.lang.avg_distinct))]),e._v(" "),l("Option",{attrs:{value:"sumDistinct"}},[e._v(e._s(e.lang.sum_distinct))])],1)],1)])]),e._v(" "),l("tr",[l("td",[e._v("\n                    "+e._s(e.lang._sort)+":\n                ")]),e._v(" "),l("td",[l("div",{staticClass:"selector"},[l("Select",{staticStyle:{width:"100px"},attrs:{size:"small"},model:{value:e.selected_field.sortType,callback:function(t){e.$set(e.selected_field,"sortType",t)},expression:"selected_field.sortType"}},[l("Option",{attrs:{value:"none"}},[e._v(e._s(e.lang.no_sort))]),e._v(" "),l("Option",{attrs:{value:"ASC"}},[e._v("A-Z")]),e._v(" "),l("Option",{attrs:{value:"DESC"}},[e._v("Z-A")])],1)],1)])]),e._v(" "),l("tr",[l("td",{attrs:{colspan:"2"}},[l("Checkbox",{attrs:{size:"small"},model:{value:e.selected_field.groupBy,callback:function(t){e.$set(e.selected_field,"groupBy",t)},expression:"selected_field.groupBy"}},[e._v(e._s(e.lang.grouping))])],1)]),e._v(" "),l("tr",[l("td",[e._v("\n                    "+e._s(e.lang._type)+":\n                ")]),e._v(" "),l("td",[l("Input",{staticClass:"table-col-search",attrs:{disabled:"",size:"small"},model:{value:e.selected_field.type,callback:function(t){e.$set(e.selected_field,"type",t)},expression:"selected_field.type"}})],1)]),e._v(" "),l("tr",[l("td",[e._v("\n                    "+e._s(e.lang.fictitious_name)+":\n                ")]),e._v(" "),l("td",[l("Input",{staticClass:"table-col-search",attrs:{disabled:"",placeholder:"",size:"small"},model:{value:e.selected_field.alias,callback:function(t){e.$set(e.selected_field,"alias",t)},expression:"selected_field.alias"}})],1)]),e._v(" "),l("tr",[l("td",[e._v("\n                    "+e._s(e.lang._color)+":\n                ")]),e._v(" "),l("td",[l("Input",{staticClass:"table-col-search",attrs:{placeholder:"",size:"small"},model:{value:e.selected_field.color,callback:function(t){e.$set(e.selected_field,"color",t)},expression:"selected_field.color"}})],1)]),e._v(" "),l("tr",[l("td",[e._v("\n                    "+e._s(e.lang._sort)+" #:\n                ")]),e._v(" "),l("td",[l("InputNumber",{staticClass:"table-col-search",attrs:{min:1,disabled:"none"==e.selected_field.sortType,type:"number",size:"small"},model:{value:e.selected_field.sortOrder,callback:function(t){e.$set(e.selected_field,"sortOrder",t)},expression:"selected_field.sortOrder"}})],1)]),e._v(" "),l("tr",[l("td",[e._v("\n                    "+e._s(e.lang.grouping)+" #:\n                ")]),e._v(" "),l("td",[l("InputNumber",{staticClass:"table-col-search",attrs:{min:1,disabled:!e.selected_field.groupBy,type:"number",size:"small"},model:{value:e.selected_field.groupOrder,callback:function(t){e.$set(e.selected_field,"groupOrder",t)},expression:"selected_field.groupOrder"}})],1)])]):e._e()],1)])}),[],!1,null,null,null).exports}}]);
//# sourceMappingURL=chart-table-list.980ebcbe978117ed.js.map